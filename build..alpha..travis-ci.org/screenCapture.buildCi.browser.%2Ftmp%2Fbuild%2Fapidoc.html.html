<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/docpad/docpad">docpad (v6.79.4)</a>
</h1>
<h4>DocPad is a dynamic static site generator. Write your content as files, or import your content from other external sources. Render the content with plugins. And deploy your static or dynamic website to your favourite hosting provider.</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad">module docpad</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">docpad.</span>usingDomains</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.docpad">
            function <span class="apidocSignatureSpan"></span>docpad
            <span class="apidocSignatureSpan">(instanceConfig, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.EventEmitter">
            function <span class="apidocSignatureSpan">docpad.</span>EventEmitter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.__super__.constructor">
            function <span class="apidocSignatureSpan">docpad.</span>__super__.constructor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console">
            function <span class="apidocSignatureSpan">docpad.</span>console
            <span class="apidocSignatureSpan">(opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.create">
            function <span class="apidocSignatureSpan">docpad.</span>create
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.createInstance">
            function <span class="apidocSignatureSpan">docpad.</span>createInstance
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.document">
            function <span class="apidocSignatureSpan">docpad.</span>document
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.elements">
            function <span class="apidocSignatureSpan">docpad.</span>elements
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file">
            function <span class="apidocSignatureSpan">docpad.</span>file
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.files">
            function <span class="apidocSignatureSpan">docpad.</span>files
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.init">
            function <span class="apidocSignatureSpan">docpad.</span>init
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.listenerCount">
            function <span class="apidocSignatureSpan">docpad.</span>listenerCount
            <span class="apidocSignatureSpan">(emitter, type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.meta">
            function <span class="apidocSignatureSpan">docpad.</span>meta
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.plugin">
            function <span class="apidocSignatureSpan">docpad.</span>plugin
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.plugin_loader">
            function <span class="apidocSignatureSpan">docpad.</span>plugin_loader
            <span class="apidocSignatureSpan">(arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.require">
            function <span class="apidocSignatureSpan">docpad.</span>require
            <span class="apidocSignatureSpan">(relativePath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.scripts">
            function <span class="apidocSignatureSpan">docpad.</span>scripts
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.styles">
            function <span class="apidocSignatureSpan">docpad.</span>styles
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">docpad.</span>defaultMaxListeners</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.</span>__super__</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.</span>base</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.</span>console.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.</span>document.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.</span>elements.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.</span>file.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.</span>files.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.</span>meta.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.</span>plugin.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.</span>plugin_loader.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.</span>scripts.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.</span>styles.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.</span>util</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.__super__">module docpad.__super__</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.__super__.constructor">
            function <span class="apidocSignatureSpan">docpad.__super__.</span>constructor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.__super__.emitParallel">
            function <span class="apidocSignatureSpan">docpad.__super__.</span>emitParallel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.__super__.emitSerial">
            function <span class="apidocSignatureSpan">docpad.__super__.</span>emitSerial
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.__super__.getListenerGroup">
            function <span class="apidocSignatureSpan">docpad.__super__.</span>getListenerGroup
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.__super__.off">
            function <span class="apidocSignatureSpan">docpad.__super__.</span>off
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.__super__.constructor">module docpad.__super__.constructor</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">docpad.__super__.constructor.</span>usingDomains</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.__super__.constructor.constructor">
            function <span class="apidocSignatureSpan">docpad.__super__.</span>constructor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.__super__.constructor.EventEmitter">
            function <span class="apidocSignatureSpan">docpad.__super__.constructor.</span>EventEmitter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.__super__.constructor.init">
            function <span class="apidocSignatureSpan">docpad.__super__.constructor.</span>init
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.__super__.constructor.listenerCount">
            function <span class="apidocSignatureSpan">docpad.__super__.constructor.</span>listenerCount
            <span class="apidocSignatureSpan">(emitter, type)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">docpad.__super__.constructor.</span>defaultMaxListeners</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.__super__.constructor.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.base">module docpad.base</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.base.Collection">
            function <span class="apidocSignatureSpan">docpad.base.</span>Collection
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.base.Events">
            function <span class="apidocSignatureSpan">docpad.base.</span>Events
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.base.Model">
            function <span class="apidocSignatureSpan">docpad.base.</span>Model
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.base.QueryCollection">
            function <span class="apidocSignatureSpan">docpad.base.</span>QueryCollection
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.console">module docpad.console</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.console">
            function <span class="apidocSignatureSpan">docpad.</span>console
            <span class="apidocSignatureSpan">(opts, next)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.console.prototype">module docpad.console.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.action">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>action
            <span class="apidocSignatureSpan">(next, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.choose">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>choose
            <span class="apidocSignatureSpan">(message, choices, opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.clean">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>clean
            <span class="apidocSignatureSpan">(next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.confirm">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>confirm
            <span class="apidocSignatureSpan">(message, opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.destroy">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>destroy
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.extractConfig">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>extractConfig
            <span class="apidocSignatureSpan">(customConfig)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.generate">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>generate
            <span class="apidocSignatureSpan">(next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.getCommander">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>getCommander
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.help">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>help
            <span class="apidocSignatureSpan">(next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.info">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>info
            <span class="apidocSignatureSpan">(next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.init">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>init
            <span class="apidocSignatureSpan">(next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.install">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>install
            <span class="apidocSignatureSpan">(next, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.performAction">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>performAction
            <span class="apidocSignatureSpan">(action, args, config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.prompt">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>prompt
            <span class="apidocSignatureSpan">(message, opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.render">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>render
            <span class="apidocSignatureSpan">(next, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.run">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>run
            <span class="apidocSignatureSpan">(next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.selectSkeletonCallback">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>selectSkeletonCallback
            <span class="apidocSignatureSpan">(skeletonsCollection, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.server">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>server
            <span class="apidocSignatureSpan">(next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.start">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>start
            <span class="apidocSignatureSpan">(argv)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.uninstall">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>uninstall
            <span class="apidocSignatureSpan">(next, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.update">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>update
            <span class="apidocSignatureSpan">(next, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.upgrade">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>upgrade
            <span class="apidocSignatureSpan">(next, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.watch">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>watch
            <span class="apidocSignatureSpan">(next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.welcomeCallback">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>welcomeCallback
            <span class="apidocSignatureSpan">(opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.console.prototype.wrapAction">
            function <span class="apidocSignatureSpan">docpad.console.prototype.</span>wrapAction
            <span class="apidocSignatureSpan">(action, config)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.document">module docpad.document</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.document.document">
            function <span class="apidocSignatureSpan">docpad.</span>document
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.document.extend">
            function <span class="apidocSignatureSpan">docpad.document.</span>extend
            <span class="apidocSignatureSpan">(protoProps, staticProps)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.document.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.document.prototype">module docpad.document.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.document.prototype.constructor">
            function <span class="apidocSignatureSpan">docpad.document.prototype.</span>constructor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.document.prototype.contextualize">
            function <span class="apidocSignatureSpan">docpad.document.prototype.</span>contextualize
            <span class="apidocSignatureSpan">(opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.document.prototype.getEve">
            function <span class="apidocSignatureSpan">docpad.document.prototype.</span>getEve
            <span class="apidocSignatureSpan">(next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.document.prototype.getLayout">
            function <span class="apidocSignatureSpan">docpad.document.prototype.</span>getLayout
            <span class="apidocSignatureSpan">(next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.document.prototype.getOutContent">
            function <span class="apidocSignatureSpan">docpad.document.prototype.</span>getOutContent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.document.prototype.hasLayout">
            function <span class="apidocSignatureSpan">docpad.document.prototype.</span>hasLayout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.document.prototype.klass">
            function <span class="apidocSignatureSpan">docpad.document.prototype.</span>klass
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.document.prototype.normalize">
            function <span class="apidocSignatureSpan">docpad.document.prototype.</span>normalize
            <span class="apidocSignatureSpan">(opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.document.prototype.parse">
            function <span class="apidocSignatureSpan">docpad.document.prototype.</span>parse
            <span class="apidocSignatureSpan">(opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.document.prototype.referencesOthers">
            function <span class="apidocSignatureSpan">docpad.document.prototype.</span>referencesOthers
            <span class="apidocSignatureSpan">(flag)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.document.prototype.render">
            function <span class="apidocSignatureSpan">docpad.document.prototype.</span>render
            <span class="apidocSignatureSpan">(opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.document.prototype.renderDocument">
            function <span class="apidocSignatureSpan">docpad.document.prototype.</span>renderDocument
            <span class="apidocSignatureSpan">(opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.document.prototype.renderExtensions">
            function <span class="apidocSignatureSpan">docpad.document.prototype.</span>renderExtensions
            <span class="apidocSignatureSpan">(opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.document.prototype.renderLayouts">
            function <span class="apidocSignatureSpan">docpad.document.prototype.</span>renderLayouts
            <span class="apidocSignatureSpan">(opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.document.prototype.writeSource">
            function <span class="apidocSignatureSpan">docpad.document.prototype.</span>writeSource
            <span class="apidocSignatureSpan">(opts, next)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.document.prototype.</span>defaults</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">docpad.document.prototype.</span>type</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.elements">module docpad.elements</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.elements.elements">
            function <span class="apidocSignatureSpan">docpad.</span>elements
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.elements.extend">
            function <span class="apidocSignatureSpan">docpad.elements.</span>extend
            <span class="apidocSignatureSpan">(protoProps, staticProps)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.elements.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.elements.prototype">module docpad.elements.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.elements.prototype.add">
            function <span class="apidocSignatureSpan">docpad.elements.prototype.</span>add
            <span class="apidocSignatureSpan">(values, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.elements.prototype.constructor">
            function <span class="apidocSignatureSpan">docpad.elements.prototype.</span>constructor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.elements.prototype.join">
            function <span class="apidocSignatureSpan">docpad.elements.prototype.</span>join
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.elements.prototype.model">
            function <span class="apidocSignatureSpan">docpad.elements.prototype.</span>model
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.elements.prototype.remove">
            function <span class="apidocSignatureSpan">docpad.elements.prototype.</span>remove
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.elements.prototype.reset">
            function <span class="apidocSignatureSpan">docpad.elements.prototype.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.elements.prototype.set">
            function <span class="apidocSignatureSpan">docpad.elements.prototype.</span>set
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.elements.prototype.toHTML">
            function <span class="apidocSignatureSpan">docpad.elements.prototype.</span>toHTML
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.file">module docpad.file</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.file">
            function <span class="apidocSignatureSpan">docpad.</span>file
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.extend">
            function <span class="apidocSignatureSpan">docpad.file.</span>extend
            <span class="apidocSignatureSpan">(protoProps, staticProps)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.file.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.file.prototype">module docpad.file.prototype</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">docpad.file.prototype.</span>detectEncoding</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.action">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>action
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.addUrl">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>addUrl
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.clone">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>clone
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.constructor">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>constructor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.contextualize">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>contextualize
            <span class="apidocSignatureSpan">(opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.delete">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>delete
            <span class="apidocSignatureSpan">(opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.deleteSource">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>deleteSource
            <span class="apidocSignatureSpan">(opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.encode">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>encode
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.extractOptions">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>extractOptions
            <span class="apidocSignatureSpan">(attrs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.getActionRunner">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getActionRunner
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.getAttributes">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getAttributes
            <span class="apidocSignatureSpan">(dereference)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.getBuffer">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getBuffer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.getContent">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getContent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.getExtensions">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getExtensions
            <span class="apidocSignatureSpan">(arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.getFilePath">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getFilePath
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.getFilename">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getFilename
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.getLocale">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getLocale
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.getMeta">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getMeta
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.getOptions">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getOptions
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.getOutContent">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getOutContent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.getPath">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getPath
            <span class="apidocSignatureSpan">(relativePath, parentPath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.getStat">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getStat
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.initialize">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>initialize
            <span class="apidocSignatureSpan">(attrs, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.isBinary">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>isBinary
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.isBufferOutdated">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>isBufferOutdated
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.isOption">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>isOption
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.isText">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>isText
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.klass">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>klass
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.load">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>load
            <span class="apidocSignatureSpan">(opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.normalize">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>normalize
            <span class="apidocSignatureSpan">(opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.parse">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>parse
            <span class="apidocSignatureSpan">(opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.removeUrl">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>removeUrl
            <span class="apidocSignatureSpan">(userUrl)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.render">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>render
            <span class="apidocSignatureSpan">(opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.set">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>set
            <span class="apidocSignatureSpan">(attrs, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.setBuffer">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>setBuffer
            <span class="apidocSignatureSpan">(buffer)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.setDefaults">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>setDefaults
            <span class="apidocSignatureSpan">(attrs, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.setMeta">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>setMeta
            <span class="apidocSignatureSpan">(attrs, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.setMetaDefaults">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>setMetaDefaults
            <span class="apidocSignatureSpan">(attrs, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.setOptions">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>setOptions
            <span class="apidocSignatureSpan">(attrs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.setStat">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>setStat
            <span class="apidocSignatureSpan">(stat)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.setUrl">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>setUrl
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.toJSON">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>toJSON
            <span class="apidocSignatureSpan">(dereference)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.write">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>write
            <span class="apidocSignatureSpan">(opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.file.prototype.writeSource">
            function <span class="apidocSignatureSpan">docpad.file.prototype.</span>writeSource
            <span class="apidocSignatureSpan">(opts, next)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.file.prototype.</span>TaskGroup</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.file.prototype.</span>actionRunnerInstance</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.file.prototype.</span>buffer</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.file.prototype.</span>bufferTime</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.file.prototype.</span>defaults</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.file.prototype.</span>locale</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.file.prototype.</span>meta</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.file.prototype.</span>rootOutDirPath</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.file.prototype.</span>stat</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">docpad.file.prototype.</span>type</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.files">module docpad.files</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.files.files">
            function <span class="apidocSignatureSpan">docpad.</span>files
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.files.extend">
            function <span class="apidocSignatureSpan">docpad.files.</span>extend
            <span class="apidocSignatureSpan">(protoProps, staticProps)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.files.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.files.prototype">module docpad.files.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.files.prototype.collection">
            function <span class="apidocSignatureSpan">docpad.files.prototype.</span>collection
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.files.prototype.constructor">
            function <span class="apidocSignatureSpan">docpad.files.prototype.</span>constructor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.files.prototype.fuzzyFindOne">
            function <span class="apidocSignatureSpan">docpad.files.prototype.</span>fuzzyFindOne
            <span class="apidocSignatureSpan">(data, sorting, paging)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.files.prototype.initialize">
            function <span class="apidocSignatureSpan">docpad.files.prototype.</span>initialize
            <span class="apidocSignatureSpan">(attrs, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.files.prototype.model">
            function <span class="apidocSignatureSpan">docpad.files.prototype.</span>model
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.meta">module docpad.meta</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.meta.meta">
            function <span class="apidocSignatureSpan">docpad.</span>meta
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.meta.extend">
            function <span class="apidocSignatureSpan">docpad.meta.</span>extend
            <span class="apidocSignatureSpan">(protoProps, staticProps)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.meta.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.meta.prototype">module docpad.meta.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.meta.prototype.constructor">
            function <span class="apidocSignatureSpan">docpad.meta.prototype.</span>constructor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.plugin">module docpad.plugin</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.plugin.plugin">
            function <span class="apidocSignatureSpan">docpad.</span>plugin
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.plugin.extend">
            function <span class="apidocSignatureSpan">docpad.plugin.</span>extend
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.plugin.prototype">module docpad.plugin.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.plugin.prototype.addListeners">
            function <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>addListeners
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.plugin.prototype.bindEvents">
            function <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>bindEvents
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.plugin.prototype.bindListeners">
            function <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>bindListeners
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.plugin.prototype.destroy">
            function <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>destroy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.plugin.prototype.getConfig">
            function <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>getConfig
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.plugin.prototype.isEnabled">
            function <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>isEnabled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.plugin.prototype.removeListeners">
            function <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>removeListeners
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.plugin.prototype.setConfig">
            function <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>setConfig
            <span class="apidocSignatureSpan">(instanceConfig)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.plugin.prototype.setInstanceConfig">
            function <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>setInstanceConfig
            <span class="apidocSignatureSpan">(instanceConfig)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>priority</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>config</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>docpad</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>instanceConfig</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.plugin_loader">module docpad.plugin_loader</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.plugin_loader.plugin_loader">
            function <span class="apidocSignatureSpan">docpad.</span>plugin_loader
            <span class="apidocSignatureSpan">(arg)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.plugin_loader.prototype">module docpad.plugin_loader.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.plugin_loader.prototype.create">
            function <span class="apidocSignatureSpan">docpad.plugin_loader.prototype.</span>create
            <span class="apidocSignatureSpan">(config, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.plugin_loader.prototype.exists">
            function <span class="apidocSignatureSpan">docpad.plugin_loader.prototype.</span>exists
            <span class="apidocSignatureSpan">(next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.plugin_loader.prototype.install">
            function <span class="apidocSignatureSpan">docpad.plugin_loader.prototype.</span>install
            <span class="apidocSignatureSpan">(next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.plugin_loader.prototype.load">
            function <span class="apidocSignatureSpan">docpad.plugin_loader.prototype.</span>load
            <span class="apidocSignatureSpan">(next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.plugin_loader.prototype.unsupported">
            function <span class="apidocSignatureSpan">docpad.plugin_loader.prototype.</span>unsupported
            <span class="apidocSignatureSpan">(next)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.plugin_loader.prototype.</span>BasePlugin</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.plugin_loader.prototype.</span>dirPath</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.plugin_loader.prototype.</span>docpad</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.plugin_loader.prototype.</span>nodeModulesPath</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.plugin_loader.prototype.</span>packageData</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.plugin_loader.prototype.</span>packagePath</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.plugin_loader.prototype.</span>pluginClass</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.plugin_loader.prototype.</span>pluginName</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.plugin_loader.prototype.</span>pluginPath</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.plugin_loader.prototype.</span>pluginVersion</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.scripts">module docpad.scripts</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.scripts.scripts">
            function <span class="apidocSignatureSpan">docpad.</span>scripts
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.scripts.extend">
            function <span class="apidocSignatureSpan">docpad.scripts.</span>extend
            <span class="apidocSignatureSpan">(protoProps, staticProps)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.scripts.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.scripts.prototype">module docpad.scripts.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.scripts.prototype.add">
            function <span class="apidocSignatureSpan">docpad.scripts.prototype.</span>add
            <span class="apidocSignatureSpan">(values, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.scripts.prototype.constructor">
            function <span class="apidocSignatureSpan">docpad.scripts.prototype.</span>constructor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.styles">module docpad.styles</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.styles.styles">
            function <span class="apidocSignatureSpan">docpad.</span>styles
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.styles.extend">
            function <span class="apidocSignatureSpan">docpad.styles.</span>extend
            <span class="apidocSignatureSpan">(protoProps, staticProps)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">docpad.styles.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.styles.prototype">module docpad.styles.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.styles.prototype.add">
            function <span class="apidocSignatureSpan">docpad.styles.prototype.</span>add
            <span class="apidocSignatureSpan">(values, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.styles.prototype.constructor">
            function <span class="apidocSignatureSpan">docpad.styles.prototype.</span>constructor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.docpad.util">module docpad.util</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.action">
            function <span class="apidocSignatureSpan">docpad.util.</span>action
            <span class="apidocSignatureSpan">(action, opts, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.getBasename">
            function <span class="apidocSignatureSpan">docpad.util.</span>getBasename
            <span class="apidocSignatureSpan">(filename)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.getDefaultLogLevel">
            function <span class="apidocSignatureSpan">docpad.util.</span>getDefaultLogLevel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.getDirPath">
            function <span class="apidocSignatureSpan">docpad.util.</span>getDirPath
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.getExtension">
            function <span class="apidocSignatureSpan">docpad.util.</span>getExtension
            <span class="apidocSignatureSpan">(extensions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.getExtensions">
            function <span class="apidocSignatureSpan">docpad.util.</span>getExtensions
            <span class="apidocSignatureSpan">(filename)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.getFilename">
            function <span class="apidocSignatureSpan">docpad.util.</span>getFilename
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.getLocalDocPadExecutable">
            function <span class="apidocSignatureSpan">docpad.util.</span>getLocalDocPadExecutable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.getLocalDocPadExecutableExistance">
            function <span class="apidocSignatureSpan">docpad.util.</span>getLocalDocPadExecutableExistance
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.getOutFilename">
            function <span class="apidocSignatureSpan">docpad.util.</span>getOutFilename
            <span class="apidocSignatureSpan">(basename, extension)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.getSlug">
            function <span class="apidocSignatureSpan">docpad.util.</span>getSlug
            <span class="apidocSignatureSpan">(relativeBase)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.getUrl">
            function <span class="apidocSignatureSpan">docpad.util.</span>getUrl
            <span class="apidocSignatureSpan">(relativePath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.inspect">
            function <span class="apidocSignatureSpan">docpad.util.</span>inspect
            <span class="apidocSignatureSpan">(obj, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.isLocalDocPadExecutable">
            function <span class="apidocSignatureSpan">docpad.util.</span>isLocalDocPadExecutable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.isStandalone">
            function <span class="apidocSignatureSpan">docpad.util.</span>isStandalone
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.isStandardEncoding">
            function <span class="apidocSignatureSpan">docpad.util.</span>isStandardEncoding
            <span class="apidocSignatureSpan">(encoding)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.isTTY">
            function <span class="apidocSignatureSpan">docpad.util.</span>isTTY
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.isTravis">
            function <span class="apidocSignatureSpan">docpad.util.</span>isTravis
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.isUser">
            function <span class="apidocSignatureSpan">docpad.util.</span>isUser
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.startLocalDocPadExecutable">
            function <span class="apidocSignatureSpan">docpad.util.</span>startLocalDocPadExecutable
            <span class="apidocSignatureSpan">(next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.wait">
            function <span class="apidocSignatureSpan">docpad.util.</span>wait
            <span class="apidocSignatureSpan">(time, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.writeError">
            function <span class="apidocSignatureSpan">docpad.util.</span>writeError
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.docpad.util.writeStderr">
            function <span class="apidocSignatureSpan">docpad.util.</span>writeStderr
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad" id="apidoc.module.docpad">module docpad</a></h1>




    <h2>
        <a href="#apidoc.element.docpad.docpad" id="apidoc.element.docpad.docpad">
        function <span class="apidocSignatureSpan"></span>docpad
        <span class="apidocSignatureSpan">(instanceConfig, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DocPad(instanceConfig, next) {
  var action, configEventContext, docpad, i, len, logger, loggerConsole, loggers, methodName, ref2, ref3, ref4;
  ref2 = extractOptsAndCallback(instanceConfig, next), instanceConfig = ref2[0], next = ref2[1];
  docpad = this;
  this.TaskGroup = (function(superClass1) {
    extend(_Class, superClass1);

    function _Class() {
      var tasks;
      _Class.__super__.constructor.apply(this, arguments);
      tasks = this;
      tasks.on('started', function() {
        var config, name, progress, totals;
        config = tasks.getConfig();
        name = tasks.getNames();
        progress = config.progress;
        if (progress) {
          totals = tasks.getItemTotals();
          return progress.step(name).total(totals.total).setTick(totals.completed);
        } else {
          return docpad.log('debug', name + ' &gt; started');
        }
      });
      tasks.on('item.add', function(item) {
        var config, name, progress, totals;
        config = tasks.getConfig();
        name = item.getNames();
        progress = config.progress;
        if (progress) {
          totals = tasks.getItemTotals();
          return progress.step(name).total(totals.total).setTick(totals.completed);
        } else {
          return docpad.log('debug', name + ' &gt; added');
        }
      });
      tasks.on('item.started', function(item) {
        var config, name, progress, totals;
        config = tasks.getConfig();
        name = item.getNames();
        progress = config.progress;
        if (progress) {
          totals = tasks.getItemTotals();
          return progress.step(name).total(totals.total).setTick(totals.completed);
        } else {
          return docpad.log('debug', name + ' &gt; started');
        }
      });
      tasks.on('item.done', function(item, err) {
        var config, name, progress, totals;
        config = tasks.getConfig();
        name = item.getNames();
        progress = config.progress;
        if (progress) {
          totals = tasks.getItemTotals();
          return progress.step(name).total(totals.total).setTick(totals.completed);
        } else {
          return docpad.log('debug', name + ' &gt; done');
        }
      });
      this;
    }

    return _Class;

  })(TaskGroup);
  ref3 = "action\nlog warn error fatal inspector notify track identify subscribe checkRequest\nserverMiddlewareRouter serverMiddlewareHeader
 serverMiddleware404 serverMiddleware500\ndestroyWatchers".split(/\s+/);
  for (i = 0, len = ref3.length; i &lt; len; i++) {
    methodName = ref3[i];
    this[methodName] = this[methodName].bind(this);
  }
  this.setMaxListeners(0);
  configEventContext = {
    docpad: docpad
  };
  this.getEvents().forEach(function(eventName) {
    return docpad.on(eventName, function(opts, next) {
      var args, eventHandler, ref4;
      eventHandler = (ref4 = docpad.getConfig().events) != null ? ref4[eventName] : void 0;
      if (typeChecker.isFunction(eventHandler)) {
        args = [opts, next];
        return ambi.apply(null, [eventHandler.bind(configEventContext)].concat(slice.call(args)));
      } else {
        return next();
      }
    });
  });
  this.actionRunnerInstance = this.TaskGroup.create('action runner').whenDone(function(err) {
    if (err) {
      return docpad.error(err);
    }
  });
  this.trackRunnerInstance = this.TaskGroup.create('track runner').whenDone(function(err) {
    var locale;
    if (err &amp;&amp; docpad.getDebugging()) {
      locale = docpad.getLocale();
      return docpad.warn(locale.trackError, err);
    }
  });
  if ((loggers = instanceConfig.loggers)) {
    delete instanceConfig.loggers;
  } else {
    logger = new (require('caterpillar').Logger)({
      lineOffset: 2
    });
    loggerConsole = logger.pipe(new (require('caterpillar-filter').Filter)).pipe(new (require('caterpillar-human').Human));
    loggers = {
      logger: logger,
      console: loggerConsole
    };
  }
  safefs.unlink(this.debugLogPath, function() {});
  this.setLoggers(loggers);
  this.setLogLevel((ref4 = instanceConfig.logLevel) != null ? ref4 : this.initialCon ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.EventEmitter" id="apidoc.element.docpad.EventEmitter">
        function <span class="apidocSignatureSpan">docpad.</span>EventEmitter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.__super__.constructor" id="apidoc.element.docpad.__super__.constructor">
        function <span class="apidocSignatureSpan">docpad.</span>__super__.constructor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitterGrouped() {
  return EventEmitterGrouped.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console" id="apidoc.element.docpad.console">
        function <span class="apidocSignatureSpan">docpad.</span>console
        <span class="apidocSignatureSpan">(opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ConsoleInterface(opts, next) {
  this.watch = bind(this.watch, this);
  this.clean = bind(this.clean, this);
  this.server = bind(this.server, this);
  this.run = bind(this.run, this);
  this.render = bind(this.render, this);
  this.uninstall = bind(this.uninstall, this);
  this.install = bind(this.install, this);
  this.upgrade = bind(this.upgrade, this);
  this.update = bind(this.update, this);
  this.info = bind(this.info, this);
  this.help = bind(this.help, this);
  this.generate = bind(this.generate, this);
  this.init = bind(this.init, this);
  this.action = bind(this.action, this);
  this.welcomeCallback = bind(this.welcomeCallback, this);
  this.selectSkeletonCallback = bind(this.selectSkeletonCallback, this);
  this.extractConfig = bind(this.extractConfig, this);
  this.performAction = bind(this.performAction, this);
  this.wrapAction = bind(this.wrapAction, this);
  this.destroy = bind(this.destroy, this);
  this.getCommander = bind(this.getCommander, this);
  this.start = bind(this.start, this);
  var commander, consoleInterface, docpad, locale;
  consoleInterface = this;
  this.docpad = docpad = opts.docpad;
  this.commander = commander = require('commander');
  locale = docpad.getLocale();
  commander.version(docpad.getVersionString()).option('-o, --out &lt;outPath&gt;', locale.consoleOptionOut).option('-c, --config &lt;configPath
&gt;', locale.consoleOptionConfig).option('-e, --env &lt;environment&gt;', locale.consoleOptionEnv).option('-d, --debug [logLevel]', locale
.consoleOptionDebug, parseInt).option('-g, --global', locale.consoleOptionGlobal).option('-f, --force', locale.consoleOptionForce
).option('--no-color', locale.consoleOptionNoColor).option('-p, --port &lt;port&gt;', locale.consoleOptionPort, parseInt).option('--cache
', locale.consoleOptionCache).option('--silent', locale.consoleOptionSilent).option('--skeleton &lt;skeleton&gt;', locale.consoleOptionSkeleton
).option('--profile', locale.consoleOptionProfile).option('--offline', locale.consoleOptionOffline);
  commander.command('action &lt;actions&gt;').description(locale.consoleDescriptionRun).action(consoleInterface.wrapAction(consoleInterface
.action));
  commander.command('init').description(locale.consoleDescriptionInit).action(consoleInterface.wrapAction(consoleInterface.init));
  commander.command('run').description(locale.consoleDescriptionRun).action(consoleInterface.wrapAction(consoleInterface.run, {
    _stayAlive: true
  }));
  commander.command('server').description(locale.consoleDescriptionServer).action(consoleInterface.wrapAction(consoleInterface.server
, {
    _stayAlive: true
  }));
  commander.command('render [path]').description(locale.consoleDescriptionRender).action(consoleInterface.wrapAction(consoleInterface
.render, {
    logLevel: 3,
    checkVersion: false,
    welcome: false,
    prompts: false
  }));
  commander.command('generate').description(locale.consoleDescriptionGenerate).action(consoleInterface.wrapAction(consoleInterface
.generate));
  commander.command('watch').description(locale.consoleDescriptionWatch).action(consoleInterface.wrapAction(consoleInterface.watch
, {
    _stayAlive: true
  }));
  commander.command('update').description(locale.consoleDescriptionUpdate).action(consoleInterface.wrapAction(consoleInterface.update
));
  commander.command('upgrade').description(locale.consoleDescriptionUpgrade).action(consoleInterface.wrapAction(consoleInterface
.upgrade));
  commander.command('install [pluginName]').description(locale.consoleDescriptionInstall).action(consoleInterface.wrapAction(consoleInterface
.install));
  commander.command('uninstall &lt;pluginName&gt;').description(locale.consoleDescriptionUninstall).action(consoleInterface.wrapAction
(consoleInterface.uninstall));
  commander.command('clean').description(locale.consoleDescriptionClean).action(consoleInterface.wrapAction(consoleInterface.clean
));
  commander.command('info').description(locale.consoleDescriptionInfo).action(consoleInterface.wrapAction(consoleInterface.info));
  commander.command('help').description(locale.consoleDescriptionHelp).action(consoleInterface.wrapA ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.create" id="apidoc.element.docpad.create">
        function <span class="apidocSignatureSpan">docpad.</span>create
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function () {
  var args;
  args = 1 &lt;= arguments.length ? slice.call(arguments, 0) : [];
  return (function(func, args, ctor) {
    ctor.prototype = func.prototype;
    var child = new ctor, result = func.apply(child, args);
    return Object(result) === result ? result : child;
  })(this, args, function(){});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      args = [opts, next];
      return ambi.apply(null, [eventHandler.bind(configEventContext)].concat(slice.call(args)));
    } else {
      return next();
    }
  });
});
this.actionRunnerInstance = this.TaskGroup.<span class="apidocCodeKeywordSpan">create</span>('action runner').whenDone
(function(err) {
  if (err) {
    return docpad.error(err);
  }
});
this.trackRunnerInstance = this.TaskGroup.create('track runner').whenDone(function(err) {
  var locale;
  if (err &amp;&amp; docpad.getDebugging()) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.createInstance" id="apidoc.element.docpad.createInstance">
        function <span class="apidocSignatureSpan">docpad.</span>createInstance
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createInstance = function () {
  var args;
  args = 1 &lt;= arguments.length ? slice.call(arguments, 0) : [];
  return (function(func, args, ctor) {
    ctor.prototype = func.prototype;
    var child = new ctor, result = func.apply(child, args);
    return Object(result) === result ? result : child;
  })(this, args, function(){});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.document" id="apidoc.element.docpad.document">
        function <span class="apidocSignatureSpan">docpad.</span>document
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DocumentModel() {
  return DocumentModel.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.elements" id="apidoc.element.docpad.elements">
        function <span class="apidocSignatureSpan">docpad.</span>elements
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ElementsCollection() {
  return ElementsCollection.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file" id="apidoc.element.docpad.file">
        function <span class="apidocSignatureSpan">docpad.</span>file
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FileModel() {
  this.action = bind(this.action, this);
  return FileModel.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.files" id="apidoc.element.docpad.files">
        function <span class="apidocSignatureSpan">docpad.</span>files
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FilesCollection() {
  return FilesCollection.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.init" id="apidoc.element.docpad.init">
        function <span class="apidocSignatureSpan">docpad.</span>init
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function () {
  this.domain = null;
  if (EventEmitter.usingDomains) {
    // if there is an active domain, then attach to it.
    domain = domain || require('domain');
    if (domain.active &amp;&amp; !(this instanceof domain.Domain)) {
      this.domain = domain.active;
    }
  }

  if (!this._events || this._events === Object.getPrototypeOf(this)._events) {
    this._events = new EventHandlers();
    this._eventsCount = 0;
  }

  this._maxListeners = this._maxListeners || undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.listenerCount" id="apidoc.element.docpad.listenerCount">
        function <span class="apidocSignatureSpan">docpad.</span>listenerCount
        <span class="apidocSignatureSpan">(emitter, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listenerCount = function (emitter, type) {
  if (typeof emitter.listenerCount === 'function') {
    return emitter.listenerCount(type);
  } else {
    return listenerCount.call(emitter, type);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.meta" id="apidoc.element.docpad.meta">
        function <span class="apidocSignatureSpan">docpad.</span>meta
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MetaCollection() {
  return MetaCollection.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.plugin" id="apidoc.element.docpad.plugin">
        function <span class="apidocSignatureSpan">docpad.</span>plugin
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BasePlugin(opts) {
  this.getConfig = bind(this.getConfig, this);
  this.setConfig = bind(this.setConfig, this);
  var config, docpad, me;
  me = this;
  docpad = opts.docpad, config = opts.config;
  this.docpad = docpad;
  this.bindListeners();
  this.config = extendr.deepClone(this.config);
  this.instanceConfig = extendr.deepClone(this.instanceConfig);
  this.initialConfig = this.config;
  this.setConfig(config);
  if (this.isEnabled() === false) {
    return this;
  }
  this.addListeners();
  this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.plugin_loader" id="apidoc.element.docpad.plugin_loader">
        function <span class="apidocSignatureSpan">docpad.</span>plugin_loader
        <span class="apidocSignatureSpan">(arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PluginLoader(arg) {
  var docpad;
  this.docpad = arg.docpad, this.dirPath = arg.dirPath, this.BasePlugin = arg.BasePlugin;
  docpad = this.docpad;
  this.pluginName = pathUtil.basename(this.dirPath).replace(/^docpad-plugin-/, '');
  this.pluginClass = {};
  this.packageData = {};
  this.nodeModulesPath = pathUtil.resolve(this.dirPath, 'node_modules');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.require" id="apidoc.element.docpad.require">
        function <span class="apidocSignatureSpan">docpad.</span>require
        <span class="apidocSignatureSpan">(relativePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">require = function (relativePath) {
  var absolutePath;
  absolutePath = pathUtil.normalize(pathUtil.join(__dirname, relativePath));
  if (absolutePath.replace(__dirname, '') === absolutePath) {
    throw new Error("docpad.require is limited to local docpad files only: " + relativePath);
  }
  return require(absolutePath);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.scripts" id="apidoc.element.docpad.scripts">
        function <span class="apidocSignatureSpan">docpad.</span>scripts
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ScriptsCollection() {
  return ScriptsCollection.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.styles" id="apidoc.element.docpad.styles">
        function <span class="apidocSignatureSpan">docpad.</span>styles
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StylesCollection() {
  return StylesCollection.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






























</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.__super__" id="apidoc.module.docpad.__super__">module docpad.__super__</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.__super__.constructor" id="apidoc.element.docpad.__super__.constructor">
        function <span class="apidocSignatureSpan">docpad.__super__.</span>constructor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitterGrouped() {
  return EventEmitterGrouped.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.__super__.emitParallel" id="apidoc.element.docpad.__super__.emitParallel">
        function <span class="apidocSignatureSpan">docpad.__super__.</span>emitParallel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emitParallel = function () {
  var args;
  args = 1 &lt;= arguments.length ? __slice.call(arguments, 0) : [];
  return this.getListenerGroup.apply(this, args).setConfig({
    concurrency: 0
  }).run();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.__super__.emitSerial" id="apidoc.element.docpad.__super__.emitSerial">
        function <span class="apidocSignatureSpan">docpad.__super__.</span>emitSerial
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emitSerial = function () {
  var args;
  args = 1 &lt;= arguments.length ? __slice.call(arguments, 0) : [];
  return this.getListenerGroup.apply(this, args).run();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  DocPad.prototype.destroy = function(opts, next) {
var docpad, ref2;
ref2 = extractOptsAndCallback(opts, next), opts = ref2[0], next = ref2[1];
docpad = this;
docpad.destroyRegenerateTimer();
docpadUtil.wait(1000, function() {
  return docpad.<span class="apidocCodeKeywordSpan">emitSerial</span>('docpadDestroy', function(err) {
    if (err) {
      return typeof next === "function" ? next(err) : void 0;
    }
    docpad.destroyPlugins();
    docpad.destroyServer();
    docpad.destroyWatchers();
    docpad.destroyBlocks();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.__super__.getListenerGroup" id="apidoc.element.docpad.__super__.getListenerGroup">
        function <span class="apidocSignatureSpan">docpad.__super__.</span>getListenerGroup
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getListenerGroup = function () {
  var args, eventName, listenerObjects, me, next, tasks, _i;
  eventName = arguments[0], args = 3 &lt;= arguments.length ? __slice.call(arguments, 1, _i = arguments.length - 1) : (_i = 1, []),
next = arguments[_i++];
  me = this;
  tasks = new TaskGroup("EventEmitterGrouped for " + eventName).done(next);
  listenerObjects = this.listeners(eventName).slice().map(function(listener) {
    var listenerObject;
    listenerObject = {};
    if (listener.listener) {
      listenerObject.actual = listener.listener;
      listenerObject.fire = [listener.bind(me), listener.listener];
    } else {
      listenerObject.actual = listener;
      listenerObject.fire = listener.bind(me);
    }
    listenerObject.priority = listenerObject.actual.priority || 0;
    listenerObject.name = listenerObject.name || ("Untitled listener for [" + eventName + "] with priority [" + listenerObject.priority
 + "]");
    return listenerObject;
  });
  listenerObjects.sort(function(a, b) {
    return b.priority - a.priority;
  });
  listenerObjects.forEach(function(listenerObject) {
    return tasks.addTask(listenerObject.name, function(complete) {
      return ambi.apply(null, [listenerObject.fire].concat(__slice.call(args), [complete]));
    });
  });
  return tasks;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.__super__.off" id="apidoc.element.docpad.__super__.off">
        function <span class="apidocSignatureSpan">docpad.__super__.</span>off
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">off = function () {
  var args;
  args = 1 &lt;= arguments.length ? __slice.call(arguments, 0) : [];
  return this.removeListener.apply(this, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  Collection.prototype.log = log;

  Collection.prototype.emit = emit;

  Collection.prototype.destroy = function() {
    this.emit('destroy');
    this.<span class="apidocCodeKeywordSpan">off</span>().stopListening();
    return this;
  };

  return Collection;

})(queryEngine.Backbone.Collection);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.__super__.constructor" id="apidoc.module.docpad.__super__.constructor">module docpad.__super__.constructor</a></h1>




    <h2>
        <a href="#apidoc.element.docpad.__super__.constructor.constructor" id="apidoc.element.docpad.__super__.constructor.constructor">
        function <span class="apidocSignatureSpan">docpad.__super__.</span>constructor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Function() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.__super__.constructor.EventEmitter" id="apidoc.element.docpad.__super__.constructor.EventEmitter">
        function <span class="apidocSignatureSpan">docpad.__super__.constructor.</span>EventEmitter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.__super__.constructor.init" id="apidoc.element.docpad.__super__.constructor.init">
        function <span class="apidocSignatureSpan">docpad.__super__.constructor.</span>init
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function () {
  this.domain = null;
  if (EventEmitter.usingDomains) {
    // if there is an active domain, then attach to it.
    domain = domain || require('domain');
    if (domain.active &amp;&amp; !(this instanceof domain.Domain)) {
      this.domain = domain.active;
    }
  }

  if (!this._events || this._events === Object.getPrototypeOf(this)._events) {
    this._events = new EventHandlers();
    this._eventsCount = 0;
  }

  this._maxListeners = this._maxListeners || undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.__super__.constructor.listenerCount" id="apidoc.element.docpad.__super__.constructor.listenerCount">
        function <span class="apidocSignatureSpan">docpad.__super__.constructor.</span>listenerCount
        <span class="apidocSignatureSpan">(emitter, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listenerCount = function (emitter, type) {
  if (typeof emitter.listenerCount === 'function') {
    return emitter.listenerCount(type);
  } else {
    return listenerCount.call(emitter, type);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.base" id="apidoc.module.docpad.base">module docpad.base</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.base.Collection" id="apidoc.element.docpad.base.Collection">
        function <span class="apidocSignatureSpan">docpad.base.</span>Collection
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Collection() {
  this.destroy = bind(this.destroy, this);
  return Collection.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.base.Events" id="apidoc.element.docpad.base.Events">
        function <span class="apidocSignatureSpan">docpad.base.</span>Events
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Events() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.base.Model" id="apidoc.element.docpad.base.Model">
        function <span class="apidocSignatureSpan">docpad.base.</span>Model
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Model() {
  return Model.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.base.QueryCollection" id="apidoc.element.docpad.base.QueryCollection">
        function <span class="apidocSignatureSpan">docpad.base.</span>QueryCollection
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function QueryCollection() {
  this.destroy = bind(this.destroy, this);
  return QueryCollection.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.console" id="apidoc.module.docpad.console">module docpad.console</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.console.console" id="apidoc.element.docpad.console.console">
        function <span class="apidocSignatureSpan">docpad.</span>console
        <span class="apidocSignatureSpan">(opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ConsoleInterface(opts, next) {
  this.watch = bind(this.watch, this);
  this.clean = bind(this.clean, this);
  this.server = bind(this.server, this);
  this.run = bind(this.run, this);
  this.render = bind(this.render, this);
  this.uninstall = bind(this.uninstall, this);
  this.install = bind(this.install, this);
  this.upgrade = bind(this.upgrade, this);
  this.update = bind(this.update, this);
  this.info = bind(this.info, this);
  this.help = bind(this.help, this);
  this.generate = bind(this.generate, this);
  this.init = bind(this.init, this);
  this.action = bind(this.action, this);
  this.welcomeCallback = bind(this.welcomeCallback, this);
  this.selectSkeletonCallback = bind(this.selectSkeletonCallback, this);
  this.extractConfig = bind(this.extractConfig, this);
  this.performAction = bind(this.performAction, this);
  this.wrapAction = bind(this.wrapAction, this);
  this.destroy = bind(this.destroy, this);
  this.getCommander = bind(this.getCommander, this);
  this.start = bind(this.start, this);
  var commander, consoleInterface, docpad, locale;
  consoleInterface = this;
  this.docpad = docpad = opts.docpad;
  this.commander = commander = require('commander');
  locale = docpad.getLocale();
  commander.version(docpad.getVersionString()).option('-o, --out &lt;outPath&gt;', locale.consoleOptionOut).option('-c, --config &lt;configPath
&gt;', locale.consoleOptionConfig).option('-e, --env &lt;environment&gt;', locale.consoleOptionEnv).option('-d, --debug [logLevel]', locale
.consoleOptionDebug, parseInt).option('-g, --global', locale.consoleOptionGlobal).option('-f, --force', locale.consoleOptionForce
).option('--no-color', locale.consoleOptionNoColor).option('-p, --port &lt;port&gt;', locale.consoleOptionPort, parseInt).option('--cache
', locale.consoleOptionCache).option('--silent', locale.consoleOptionSilent).option('--skeleton &lt;skeleton&gt;', locale.consoleOptionSkeleton
).option('--profile', locale.consoleOptionProfile).option('--offline', locale.consoleOptionOffline);
  commander.command('action &lt;actions&gt;').description(locale.consoleDescriptionRun).action(consoleInterface.wrapAction(consoleInterface
.action));
  commander.command('init').description(locale.consoleDescriptionInit).action(consoleInterface.wrapAction(consoleInterface.init));
  commander.command('run').description(locale.consoleDescriptionRun).action(consoleInterface.wrapAction(consoleInterface.run, {
    _stayAlive: true
  }));
  commander.command('server').description(locale.consoleDescriptionServer).action(consoleInterface.wrapAction(consoleInterface.server
, {
    _stayAlive: true
  }));
  commander.command('render [path]').description(locale.consoleDescriptionRender).action(consoleInterface.wrapAction(consoleInterface
.render, {
    logLevel: 3,
    checkVersion: false,
    welcome: false,
    prompts: false
  }));
  commander.command('generate').description(locale.consoleDescriptionGenerate).action(consoleInterface.wrapAction(consoleInterface
.generate));
  commander.command('watch').description(locale.consoleDescriptionWatch).action(consoleInterface.wrapAction(consoleInterface.watch
, {
    _stayAlive: true
  }));
  commander.command('update').description(locale.consoleDescriptionUpdate).action(consoleInterface.wrapAction(consoleInterface.update
));
  commander.command('upgrade').description(locale.consoleDescriptionUpgrade).action(consoleInterface.wrapAction(consoleInterface
.upgrade));
  commander.command('install [pluginName]').description(locale.consoleDescriptionInstall).action(consoleInterface.wrapAction(consoleInterface
.install));
  commander.command('uninstall &lt;pluginName&gt;').description(locale.consoleDescriptionUninstall).action(consoleInterface.wrapAction
(consoleInterface.uninstall));
  commander.command('clean').description(locale.consoleDescriptionClean).action(consoleInterface.wrapAction(consoleInterface.clean
));
  commander.command('info').description(locale.consoleDescriptionInfo).action(consoleInterface.wrapAction(consoleInterface.info));
  commander.command('help').description(locale.consoleDescriptionHelp).action(consoleInterface.wrapA ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.console.prototype" id="apidoc.module.docpad.console.prototype">module docpad.console.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.console.prototype.action" id="apidoc.element.docpad.console.prototype.action">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>action
        <span class="apidocSignatureSpan">(next, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">action = function (next, opts) {
  var actions;
  actions = opts.args[0];
  this.docpad.log('info', 'Performing the actions:', actions);
  this.docpad.action(actions, next);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


## v6.65.0 2014 May 17
- Independent rendering (including layout rendering) now occurs on a clone, allowing independent renderings on the same file to
occur at the same time
	- This fixes an issue where a recursive render on a file will cause a stalemate
- More detailed errors when something goes wrong with rendering a file
- Deprecated `docpad.cloneModel(document)`, you can now use `document.clone()` safely
- Deprecated `apply` option for `document.render`, now use `document.clone().<span class="apidocCodeKeywordSpan">action</span>(&amp;#
x27;render')` instead
- Fixed broken `docpad.addModel` and `docpad.addModels` (broken since their introduction in v6.55.0)
- Updated dependencies


## v6.64.3 2014 May 4
- Added donation plea for [bevry/meta#3](http://github.com/bevry/meta/issues/3)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.choose" id="apidoc.element.docpad.console.prototype.choose">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>choose
        <span class="apidocSignatureSpan">(message, choices, opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">choose = function (message, choices, opts, next) {
  var choice, i, index, indexes, j, len, prompt;
  if (opts == null) {
    opts = {};
  }
  message += " [1-" + choices.length + "]";
  indexes = [];
  for (i = j = 0, len = choices.length; j &lt; len; i = ++j) {
    choice = choices[i];
    index = i + 1;
    indexes.push(index);
    message += "\n  " + index + ".\t" + choice;
  }
  opts = extendr.extend({
    trim: true,
    retry: true,
    silent: false
  }, opts);
  prompt = '&gt; ';
  if (opts["default"]) {
    prompt += " [" + opts["default"] + "]";
  }
  console.log(message);
  promptly.choose(prompt, indexes, opts, function(err, index) {
    if (err) {
      return next(err);
    }
    choice = choices[index - 1];
    return next(null, choice);
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
skeletonsCollection.forEach(function(skeletonModel) {
  var skeletonDescription, skeletonName;
  skeletonName = skeletonModel.get('name');
  skeletonDescription = skeletonModel.get('description').replace(/\n/g, '\n\t');
  skeletonNames.push(skeletonName);
  return console.log("  " + (skeletonModel.get('position') + 1) + ".\t" + skeletonName + "\n\t" + skeletonDescription + "\n");
});
consoleInterface.<span class="apidocCodeKeywordSpan">choose</span>(locale.skeletonSelectionPrompt, skeletonNames, null, function
(err, choice) {
  var index;
  if (err) {
    return next(err);
  }
  index = skeletonNames.indexOf(choice);
  return next(null, skeletonsCollection.at(index));
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.clean" id="apidoc.element.docpad.console.prototype.clean">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>clean
        <span class="apidocSignatureSpan">(next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clean = function (next) {
  this.docpad.action('clean', next);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.confirm" id="apidoc.element.docpad.console.prototype.confirm">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>confirm
        <span class="apidocSignatureSpan">(message, opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">confirm = function (message, opts, next) {
  if (opts == null) {
    opts = {};
  }
  if (opts["default"] === true) {
    message += " [Y/n]";
  } else if (opts["default"] === false) {
    message += " [y/N]";
  }
  opts = extendr.extend({
    trim: true,
    retry: true,
    silent: false
  }, opts);
  promptly.confirm(message, opts, next);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
locale = docpad.getLocale();
userConfig = docpad.userConfig;
welcomeTasks = new TaskGroup('welcome tasks').done(next);
welcomeTasks.addTask('tos', function(complete) {
  if (docpad.config.prompts === false || userConfig.tos === true) {
    return complete();
  }
  return consoleInterface.<span class="apidocCodeKeywordSpan">confirm</span>(locale.tosPrompt, {
    "default": true
  }, function(err, ok) {
    if (err) {
      return complete(err);
    }
    return docpad.track('tos', {
      ok: ok
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.destroy" id="apidoc.element.docpad.console.prototype.destroy">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>destroy
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function (err) {
  var docpad, locale, logLevel;
  docpad = this.docpad;
  locale = docpad.getLocale();
  logLevel = docpad.getLogLevel();
  if (err) {
    docpadUtil.writeError(err);
  }
  docpad.log('info', locale.consoleShutdown);
  process.stdin.on('error', function(err) {
    if (6 &lt; logLevel) {
      return console.error(err);
    }
  });
  process.stdin.end();
  docpad.destroy(function(err) {
    var activeHandles, activeRequests;
    if (err) {
      docpadUtil.writeError(err);
    }
    if (6 &lt;= logLevel) {
      activeRequests = process._getActiveRequests();
      if (activeRequests != null ? activeRequests.length : void 0) {
        console.log("Waiting on the requests:\n" + (docpadUtil.inspect(activeRequests)));
      }
      activeHandles = process._getActiveHandles();
      if (activeHandles != null ? activeHandles.length : void 0) {
        return console.log("Waiting on the handles:\n" + (docpadUtil.inspect(activeHandles)));
      }
    }
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Destructor. Destroy the DocPad database
	 * @private
	 * @method destroyDatabase
 */

DocPad.prototype.destroyDatabase = function() {
  if (this.database != null) {
    this.database.<span class="apidocCodeKeywordSpan">destroy</span>();
    this.database = null;
  }
  if (this.databaseTempCache != null) {
    this.databaseTempCache.destroy();
    this.databaseTempCache = null;
  }
  return this;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.extractConfig" id="apidoc.element.docpad.console.prototype.extractConfig">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>extractConfig
        <span class="apidocSignatureSpan">(customConfig)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extractConfig = function (customConfig) {
  var commanderConfig, config, configPath, key, outPath, sourceConfig, value;
  if (customConfig == null) {
    customConfig = {};
  }
  config = {};
  commanderConfig = this.commander;
  sourceConfig = this.docpad.initialConfig;
  if (commanderConfig.debug) {
    if (commanderConfig.debug === true) {
      commanderConfig.debug = 7;
    }
    commanderConfig.logLevel = commanderConfig.debug;
  }
  if (commanderConfig.silent != null) {
    commanderConfig.prompts = !commanderConfig.silent;
  }
  if (commanderConfig.silent != null) {
    commanderConfig.databaseCache = commanderConfig.cache;
  }
  if (commanderConfig.config) {
    configPath = pathUtil.resolve(process.cwd(), commanderConfig.config);
    commanderConfig.configPaths = [configPath];
  }
  if (commanderConfig.out) {
    outPath = pathUtil.resolve(process.cwd(), commanderConfig.out);
    commanderConfig.outPath = outPath;
  }
  for (key in commanderConfig) {
    if (!hasProp.call(commanderConfig, key)) continue;
    value = commanderConfig[key];
    if (typeof sourceConfig[key] !== 'undefined') {
      config[key] = value;
    }
  }
  for (key in customConfig) {
    if (!hasProp.call(customConfig, key)) continue;
    value = customConfig[key];
    if (typeof sourceConfig[key] !== 'undefined') {
      config[key] = value;
    }
  }
  return config;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (config._stayAlive) {
  stayAlive = config._stayAlive;
  delete config._stayAlive;
}
opts = {};
opts.commander = args.slice(-1)[0];
opts.args = args.slice(0, -1);
opts.instanceConfig = extendr.safeDeepExtendPlainObjects({}, this.<span class="apidocCodeKeywordSpan">extractConfig</span>(opts.
commander), config);
completeAction = function(err) {
  var locale;
  locale = docpad.getLocale();
  if (err) {
    docpad.log('error', locale.consoleSuccess);
    return docpad.fatal(err);
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.generate" id="apidoc.element.docpad.console.prototype.generate">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>generate
        <span class="apidocSignatureSpan">(next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generate = function (next) {
  this.docpad.action('generate', next);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.getCommander" id="apidoc.element.docpad.console.prototype.getCommander">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>getCommander
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getCommander = function () {
  return this.commander;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.help" id="apidoc.element.docpad.console.prototype.help">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>help
        <span class="apidocSignatureSpan">(next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">help = function (next) {
  var help;
  help = this.commander.helpInformation();
  console.log(help);
  next();
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.info" id="apidoc.element.docpad.console.prototype.info">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>info
        <span class="apidocSignatureSpan">(next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function (next) {
  var docpad, info;
  docpad = this.docpad;
  info = docpad.inspector(docpad.config);
  console.log(info);
  next();
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.init" id="apidoc.element.docpad.console.prototype.init">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>init
        <span class="apidocSignatureSpan">(next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (next) {
  this.docpad.action('init', next);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.install" id="apidoc.element.docpad.console.prototype.install">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>install
        <span class="apidocSignatureSpan">(next, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">install = function (next, opts) {
  var plugin;
  plugin = opts.args[0] || null;
  this.docpad.action('install', {
    plugin: plugin
  }, next);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (opts.destinationPath == null) {
    opts.destinationPath = this.getConfig().rootPath;
  }
  docpad.initSkeleton(skeletonModel, opts, function(err) {
    if (err) {
      return next(err);
    }
    return docpad.<span class="apidocCodeKeywordSpan">install</span>(opts, next);
  });
  return this;
};


/**
	 * Use a Skeleton
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.performAction" id="apidoc.element.docpad.console.prototype.performAction">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>performAction
        <span class="apidocSignatureSpan">(action, args, config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">performAction = function (action, args, config) {
  var completeAction, consoleInterface, docpad, opts, stayAlive;
  if (config == null) {
    config = {};
  }
  consoleInterface = this;
  docpad = this.docpad;
  stayAlive = false;
  if (config._stayAlive) {
    stayAlive = config._stayAlive;
    delete config._stayAlive;
  }
  opts = {};
  opts.commander = args.slice(-1)[0];
  opts.args = args.slice(0, -1);
  opts.instanceConfig = extendr.safeDeepExtendPlainObjects({}, this.extractConfig(opts.commander), config);
  completeAction = function(err) {
    var locale;
    locale = docpad.getLocale();
    if (err) {
      docpad.log('error', locale.consoleSuccess);
      return docpad.fatal(err);
    }
    docpad.log('info', locale.consoleSuccess);
    if (stayAlive === false) {
      return consoleInterface.destroy();
    }
  };
  docpad.action('load ready', opts.instanceConfig, function(err) {
    if (err) {
      return completeAction(err);
    }
    return action(completeAction, opts);
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

ConsoleInterface.prototype.wrapAction = function(action, config) {
  var consoleInterface;
  consoleInterface = this;
  return function() {
    var args;
    args = 1 &lt;= arguments.length ? slice.call(arguments, 0) : [];
    return consoleInterface.<span class="apidocCodeKeywordSpan">performAction</span>(action, args, config);
  };
};


/**
	 * Perform Action
	 * @method performAction
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.prompt" id="apidoc.element.docpad.console.prototype.prompt">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>prompt
        <span class="apidocSignatureSpan">(message, opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prompt = function (message, opts, next) {
  if (opts == null) {
    opts = {};
  }
  if (opts["default"]) {
    message += " [" + opts["default"] + "]";
  }
  opts = extendr.extend({
    trim: true,
    retry: true,
    silent: false
  }, opts);
  promptly.prompt(message, opts, next);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    console.log(locale.subscribeSuccess);
    userConfig.subscribed = true;
    userConfig.subscribeTryAgain = null;
  }
  return docpad.updateUserConfig(userConfig, complete);
});
subscribeTasks.addTask('name fallback', function(complete) {
  return consoleInterface.<span class="apidocCodeKeywordSpan">prompt</span>(locale.subscribeNamePrompt, {
    "default": userConfig.name
  }, function(err, result) {
    if (err) {
      return complete(err);
    }
    userConfig.name = result;
    return complete();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.render" id="apidoc.element.docpad.console.prototype.render">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>render
        <span class="apidocSignatureSpan">(next, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">render = function (next, opts) {
  var basename, commander, data, docpad, filename, renderDocument, renderOpts, stdin, timeout, useStdin;
  docpad = this.docpad;
  commander = this.commander;
  renderOpts = {};
  filename = opts.args[0] || null;
  basename = pathUtil.basename(filename);
  renderOpts.filename = filename;
  renderOpts.renderSingleExtensions = 'auto';
  data = '';
  useStdin = true;
  renderDocument = function(complete) {
    return docpad.action('render', renderOpts, function(err, result) {
      if (err) {
        return complete(err);
      }
      if (commander.out != null) {
        return safefs.writeFile(commander.out, result, complete);
      } else {
        process.stdout.write(result);
        return complete();
      }
    });
  };
  timeout = docpadUtil.wait(1000, function() {
    timeout = null;
    if (data.replace(/\s+/, '')) {
      return next();
    }
    useStdin = false;
    stdin.pause();
    return renderDocument(next);
  });
  stdin = process.stdin;
  stdin.resume();
  stdin.setEncoding('utf8');
  stdin.on('data', function(_data) {
    return data += _data.toString();
  });
  process.stdin.on('end', function() {
    if (!useStdin) {
      return;
    }
    if (timeout) {
      clearTimeout(timeout);
      timeout = null;
    }
    renderOpts.data = data;
    return renderDocument(next);
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.run" id="apidoc.element.docpad.console.prototype.run">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>run
        <span class="apidocSignatureSpan">(next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">run = function (next) {
  this.docpad.action('run', {
    selectSkeletonCallback: this.selectSkeletonCallback,
    next: next
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return docpad.identify(complete);
  });
  tasks.addTask('emit docpadReady', function(complete) {
    return docpad.emitSerial('docpadReady', {
      docpad: docpad
    }, complete);
  });
  tasks.<span class="apidocCodeKeywordSpan">run</span>();
  return this;
};


/**
	 * Performs the merging of the passed configuration objects
	 * @private
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.selectSkeletonCallback" id="apidoc.element.docpad.console.prototype.selectSkeletonCallback">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>selectSkeletonCallback
        <span class="apidocSignatureSpan">(skeletonsCollection, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">selectSkeletonCallback = function (skeletonsCollection, next) {
  var commander, consoleInterface, docpad, err, locale, skeletonModel, skeletonNames;
  consoleInterface = this;
  commander = this.commander;
  docpad = this.docpad;
  locale = docpad.getLocale();
  skeletonNames = [];
  if (this.commander.skeleton) {
    skeletonModel = skeletonsCollection.get(this.commander.skeleton);
    if (skeletonModel) {
      next(null, skeletonModel);
    } else {
      err = new Error("Couldn't fetch the skeleton with id " + this.commander.skeleton);
      next(err);
    }
    return this;
  }
  docpad.log('info', locale.skeletonSelectionIntroduction + '\n');
  skeletonsCollection.forEach(function(skeletonModel) {
    var skeletonDescription, skeletonName;
    skeletonName = skeletonModel.get('name');
    skeletonDescription = skeletonModel.get('description').replace(/\n/g, '\n\t');
    skeletonNames.push(skeletonName);
    return console.log("  " + (skeletonModel.get('position') + 1) + ".\t" + skeletonName + "\n  \t" + skeletonDescription + "\n");
  });
  consoleInterface.choose(locale.skeletonSelectionPrompt, skeletonNames, null, function(err, choice) {
    var index;
    if (err) {
      return next(err);
    }
    index = skeletonNames.indexOf(choice);
    return next(null, skeletonsCollection.at(index));
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    opts.selectSkeletonCallback = null;
  }
  docpad.track('skeleton-ask');
  docpad.getSkeletons(function(err, skeletonsCollection) {
    if (err) {
      return next(err);
    }
    return opts.<span class="apidocCodeKeywordSpan">selectSkeletonCallback</span>(skeletonsCollection, next);
  });
  return this;
};


/**
	 * Skeleton Empty?
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.server" id="apidoc.element.docpad.console.prototype.server">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>server
        <span class="apidocSignatureSpan">(next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">server = function (next) {
  this.docpad.action('server generate', next);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.start" id="apidoc.element.docpad.console.prototype.start">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>start
        <span class="apidocSignatureSpan">(argv)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (argv) {
  this.commander.parse(argv || process.argv);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
    return new ConsoleInterface({
      docpad: docpad
    }, function(err, consoleInterface) {
      if (err) {
        return docpadUtil.writeError(err);
      }
      return consoleInterface.<span class="apidocCodeKeywordSpan">start</span>();
    });
  });
};

checkDocPad();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.uninstall" id="apidoc.element.docpad.console.prototype.uninstall">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>uninstall
        <span class="apidocSignatureSpan">(next, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">uninstall = function (next, opts) {
  var plugin;
  plugin = opts.args[0] || null;
  this.docpad.action('uninstall', {
    plugin: plugin
  }, next);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.update" id="apidoc.element.docpad.console.prototype.update">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>update
        <span class="apidocSignatureSpan">(next, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (next, opts) {
  this.docpad.action('clean update', next);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        return require('getmac').getMac(function(err, macAddress) {
var base, base1, macAddressHash;
if (err || !macAddress) {
  docpad.warn(locale.macError, err);
  return complete();
}
try {
  macAddressHash = require('crypto').createHmac('sha1', docpad.hashKey).<span class="apidocCodeKeywordSpan">
update</span>(macAddress).digest('hex');
} catch (error) {
  err = error;
  if (err) {
    return complete();
  }
}
if (macAddressHash) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.upgrade" id="apidoc.element.docpad.console.prototype.upgrade">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>upgrade
        <span class="apidocSignatureSpan">(next, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">upgrade = function (next, opts) {
  this.docpad.action('upgrade', next);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.watch" id="apidoc.element.docpad.console.prototype.watch">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>watch
        <span class="apidocSignatureSpan">(next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">watch = function (next) {
  this.docpad.action('generate watch', next);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */

DocPad.prototype.watchdir = function(opts) {
  if (opts == null) {
    opts = {};
  }
  opts = extendr.extend(this.getIgnoreOpts(), opts, this.config.watchOptions);
  return require('watchr').<span class="apidocCodeKeywordSpan">watch</span>(opts);
};


/**
	 * DocPad is ready. Peforms the tasks needed after DocPad construction
	 * and DocPad has loaded. Triggers the docpadReady event.
	 * next(err,docpadInstance)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.welcomeCallback" id="apidoc.element.docpad.console.prototype.welcomeCallback">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>welcomeCallback
        <span class="apidocSignatureSpan">(opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">welcomeCallback = function (opts, next) {
  var commander, consoleInterface, docpad, locale, userConfig, welcomeTasks;
  consoleInterface = this;
  commander = this.commander;
  docpad = this.docpad;
  locale = docpad.getLocale();
  userConfig = docpad.userConfig;
  welcomeTasks = new TaskGroup('welcome tasks').done(next);
  welcomeTasks.addTask('tos', function(complete) {
    if (docpad.config.prompts === false || userConfig.tos === true) {
      return complete();
    }
    return consoleInterface.confirm(locale.tosPrompt, {
      "default": true
    }, function(err, ok) {
      if (err) {
        return complete(err);
      }
      return docpad.track('tos', {
        ok: ok
      }, function(err) {
        if (ok) {
          userConfig.tos = true;
          console.log(locale.tosAgree);
          docpad.updateUserConfig(complete);
        } else {
          console.log(locale.tosDisagree);
          process.exit();
        }
      });
    });
  });
  welcomeTasks.addTask(function(complete) {
    if (docpad.config.prompts === false || (userConfig.subscribed != null) || ((userConfig.subscribeTryAgain != null) &amp;&amp; (new Date
()) &gt; (new Date(userConfig.subscribeTryAgain)))) {
      return complete();
    }
    return consoleInterface.confirm(locale.subscribePrompt, {
      "default": true
    }, function(err, ok) {
      if (err) {
        return complete(err);
      }
      return docpad.track('subscribe', {
        ok: ok
      }, function(err) {
        var commands;
        if (!ok) {
          console.log(locale.subscribeIgnore);
          userConfig.subscribed = false;
          docpad.updateUserConfig(function(err) {
            if (err) {
              return complete(err);
            }
            return setTimeout(complete, 2000);
          });
          return;
        }
        commands = [['config', '--get', 'user.name'], ['config', '--get', 'user.email'], ['config', '--get', 'github.user']];
        return safeps.spawnCommands('git', commands, function(err, results) {
          var ref, ref1, ref2, subscribeTasks;
          userConfig.name = String((results != null ? (ref = results[0]) != null ? ref[1] : void 0 : void 0) || '').toString().trim
() || null;
          userConfig.email = String((results != null ? (ref1 = results[1]) != null ? ref1[1] : void 0 : void 0) || '').toString().
trim() || null;
          userConfig.username = String((results != null ? (ref2 = results[2]) != null ? ref2[1] : void 0 : void 0) || '').toString
().trim() || null;
          if (userConfig.name || userConfig.email || userConfig.username) {
            console.log(locale.subscribeConfigNotify);
          }
          subscribeTasks = new TaskGroup('subscribe tasks').done(function(err) {
            if (err) {
              console.log(locale.subscribeError);
              userConfig.subscribeTryAgain = new Date().getTime() + 1000 * 60 * 60 * 24;
            } else {
              console.log(locale.subscribeSuccess);
              userConfig.subscribed = true;
              userConfig.subscribeTryAgain = null;
            }
            return docpad.updateUserConfig(userConfig, complete);
          });
          subscribeTasks.addTask('name fallback', function(complete) {
            return consoleInterface.prompt(locale.subscribeNamePrompt, {
              "default": userConfig.name
            }, function(err, result) {
              if (err) {
                return complete(err);
              }
              userConfig.name = result;
              return complete();
            });
          });
          subscribeTasks.addTask('email fallback', function(complete) {
            return consoleInterface.prompt(locale.subscribeEmailPrompt, {
              "default": userConfig.email
            }, function(err, result) {
              if (err) {
                return complete(err);
              }
              userConfig.email = result;
              return complete();
            });
          });
          subscribeTasks.addTask('username fallback', function(complete) {
            return consoleInterface.prompt(locale.subscribeUsernamePro ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
commander.command('install [pluginName]').description(locale.consoleDescriptionInstall).action(consoleInterface.wrapAction
(consoleInterface.install));
commander.command('uninstall &lt;pluginName&gt;').description(locale.consoleDescriptionUninstall).action(consoleInterface
.wrapAction(consoleInterface.uninstall));
commander.command('clean').description(locale.consoleDescriptionClean).action(consoleInterface.wrapAction(consoleInterface
.clean));
commander.command('info').description(locale.consoleDescriptionInfo).action(consoleInterface.wrapAction(consoleInterface
.info));
commander.command('help').description(locale.consoleDescriptionHelp).action(consoleInterface.wrapAction(consoleInterface
.help));
commander.command('*').description(locale.consoleDescriptionUnknown).action(consoleInterface.wrapAction(consoleInterface
.help));
docpad.on('welcome', function(data, next) {
  return consoleInterface.<span class="apidocCodeKeywordSpan">welcomeCallback</span>(data, next);
});
docpad.emitSerial('consoleSetup', {
  consoleInterface: consoleInterface,
  commander: commander
}, function(err) {
  if (err) {
    return consoleInterface.destroyWithError(err);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.console.prototype.wrapAction" id="apidoc.element.docpad.console.prototype.wrapAction">
        function <span class="apidocSignatureSpan">docpad.console.prototype.</span>wrapAction
        <span class="apidocSignatureSpan">(action, config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">wrapAction = function (action, config) {
  var consoleInterface;
  consoleInterface = this;
  return function() {
    var args;
    args = 1 &lt;= arguments.length ? slice.call(arguments, 0) : [];
    return consoleInterface.performAction(action, args, config);
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.start = bind(this.start, this);
var commander, consoleInterface, docpad, locale;
consoleInterface = this;
this.docpad = docpad = opts.docpad;
this.commander = commander = require('commander');
locale = docpad.getLocale();
commander.version(docpad.getVersionString()).option('-o, --out &lt;outPath&gt;', locale.consoleOptionOut).option(&amp;#
x27;-c, --config &lt;configPath&gt;', locale.consoleOptionConfig).option('-e, --env &lt;environment&gt;',
locale.consoleOptionEnv).option('-d, --debug [logLevel]', locale.consoleOptionDebug, parseInt).option('-g, --global
', locale.consoleOptionGlobal).option('-f, --force', locale.consoleOptionForce).option('--no-color', locale
.consoleOptionNoColor).option('-p, --port &lt;port&gt;', locale.consoleOptionPort, parseInt).option('--cache&amp;#
x27;, locale.consoleOptionCache).option('--silent', locale.consoleOptionSilent).option('--skeleton &lt;skeleton
&gt;', locale.consoleOptionSkeleton).option('--profile', locale.consoleOptionProfile).option('--offline'
;, locale.consoleOptionOffline);
commander.command('action &lt;actions&gt;').description(locale.consoleDescriptionRun).action(consoleInterface.<span class="apidocCodeKeywordSpan">wrapAction</span>(consoleInterface.action));
commander.command('init').description(locale.consoleDescriptionInit).action(consoleInterface.wrapAction(consoleInterface
.init));
commander.command('run').description(locale.consoleDescriptionRun).action(consoleInterface.wrapAction(consoleInterface
.run, {
  _stayAlive: true
}));
commander.command('server').description(locale.consoleDescriptionServer).action(consoleInterface.wrapAction(consoleInterface
.server, {
  _stayAlive: true
}));
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.document" id="apidoc.module.docpad.document">module docpad.document</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.document.document" id="apidoc.element.docpad.document.document">
        function <span class="apidocSignatureSpan">docpad.</span>document
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DocumentModel() {
  return DocumentModel.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.document.extend" id="apidoc.element.docpad.document.extend">
        function <span class="apidocSignatureSpan">docpad.document.</span>extend
        <span class="apidocSignatureSpan">(protoProps, staticProps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extend = function (protoProps, staticProps) {
  var parent = this;
  var child;

  // The constructor function for the new subclass is either defined by you
  // (the "constructor" property in your `extend` definition), or defaulted
  // by us to simply call the parent constructor.
  if (protoProps &amp;&amp; _.has(protoProps, 'constructor')) {
    child = protoProps.constructor;
  } else {
    child = function(){ return parent.apply(this, arguments); };
  }

  // Add static properties to the constructor function, if supplied.
  _.extend(child, parent, staticProps);

  // Set the prototype chain to inherit from `parent`, without calling
  // `parent` constructor function.
  var Surrogate = function(){ this.constructor = child; };
  Surrogate.prototype = parent.prototype;
  child.prototype = new Surrogate;

  // Add prototype properties (instance properties) to the subclass,
  // if supplied.
  if (protoProps) _.extend(child.prototype, protoProps);

  // Set a convenience property in case the parent's prototype is needed
  // later.
  child.__super__ = parent.prototype;

  return child;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## v6.60.0 2014 January 16
- Added `etag`, `cache-control`, `last-modified`, `date`, and `charset` headers
	- Thanks to [Marcus Stong](https://github.com/stongo) for [issue #740](https://github.com/bevry/docpad/issues/740)


## v6.59.6 2013 December 20
- Non-CoffeeScript plugin testers can now rejoice, you can now easily extend the tester classes by using `TesterClass.<span class="apidocCodeKeywordSpan">extend</span>({})`
	- Thanks to the [extendonclass](https://github.com/bevry/extendonclass) module


## v6.59.5 2013 December 20
- Non-CoffeeScript plugin authors can now rejoice, you can now easily extend the `BasePlugin` class by using `var MyPlugin = BasePlugin
.extend({})`
	- Thanks to the [extendonclass](https://github.com/bevry/extendonclass) module
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.document.prototype" id="apidoc.module.docpad.document.prototype">module docpad.document.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.document.prototype.constructor" id="apidoc.element.docpad.document.prototype.constructor">
        function <span class="apidocSignatureSpan">docpad.document.prototype.</span>constructor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DocumentModel() {
  return DocumentModel.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.document.prototype.contextualize" id="apidoc.element.docpad.document.prototype.contextualize">
        function <span class="apidocSignatureSpan">docpad.document.prototype.</span>contextualize
        <span class="apidocSignatureSpan">(opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">contextualize = function (opts, next) {
  var ref;
  if (opts == null) {
    opts = {};
  }
  ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];
  this.getEve((function(_this) {
    return function(err, eve) {
      var changes, extensions, meta, outExtension, outFilename, outPath;
      if (err) {
        return next(err);
      }
      changes = {};
      meta = _this.getMeta();
      outFilename = opts.outFilename || meta.get('outFilename') || null;
      outPath = opts.outPath || meta.get('outPath') || null;
      outExtension = opts.outExtension || meta.get('outExtension') || null;
      extensions = _this.getExtensions({
        filename: outFilename
      }) || null;
      if (!outExtension) {
        if (!outFilename &amp;&amp; !outPath) {
          if (eve != null) {
            changes.outExtension = outExtension = eve.get('outExtension') || extensions[0] || null;
          } else {
            changes.outExtension = extensions[0] || null;
          }
        }
      }
      return _this.normalize(extendr.extend(opts, changes), next);
    };
  })(this));
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  tasks.addTask("Load -&gt; Parse", function(complete) {
    return file.parse(complete);
  });
  tasks.addTask("Parse -&gt; Normalize", function(complete) {
    return file.normalize(complete);
  });
  tasks.addTask("Normalize -&gt; Contextualize", function(complete) {
    return file.<span class="apidocCodeKeywordSpan">contextualize</span>(complete);
  });
  tasks.run();
  return this;
};


/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.document.prototype.getEve" id="apidoc.element.docpad.document.prototype.getEve">
        function <span class="apidocSignatureSpan">docpad.document.prototype.</span>getEve
        <span class="apidocSignatureSpan">(next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getEve = function (next) {
  if (this.hasLayout()) {
    this.getLayout(function(err, layout) {
      if (err) {
        return next(err, null);
      } else if (layout) {
        return layout.getEve(next);
      } else {
        return next(null, null);
      }
    });
  } else {
    next(null, this);
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  DocumentModel.prototype.contextualize = function(opts, next) {
var ref;
if (opts == null) {
  opts = {};
}
ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];
this.<span class="apidocCodeKeywordSpan">getEve</span>((function(_this) {
  return function(err, eve) {
    var changes, extensions, meta, outExtension, outFilename, outPath;
    if (err) {
      return next(err);
    }
    changes = {};
    meta = _this.getMeta();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.document.prototype.getLayout" id="apidoc.element.docpad.document.prototype.getLayout">
        function <span class="apidocSignatureSpan">docpad.document.prototype.</span>getLayout
        <span class="apidocSignatureSpan">(next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLayout = function (next) {
  var file, layoutSelector;
  file = this;
  layoutSelector = this.get('layout');
  if (!layoutSelector) {
    return next(null, null);
  }
  this.emit('getLayout', {
    selector: layoutSelector
  }, function(err, opts) {
    var layout;
    layout = opts.layout;
    if (err) {
      file.set({
        'layoutRelativePath': null
      });
      return next(err);
    } else if (!layout) {
      file.set({
        'layoutRelativePath': null
      });
      return next();
    } else {
      file.set({
        'layoutRelativePath': layout.get('relativePath')
      });
      return next(null, layout);
    }
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * next(err,layout)
	 * @method getEve
	 * @param {Function} next
 */

DocumentModel.prototype.getEve = function(next) {
  if (this.hasLayout()) {
    this.<span class="apidocCodeKeywordSpan">getLayout</span>(function(err, layout) {
      if (err) {
        return next(err, null);
      } else if (layout) {
        return layout.getEve(next);
      } else {
        return next(null, null);
      }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.document.prototype.getOutContent" id="apidoc.element.docpad.document.prototype.getOutContent">
        function <span class="apidocSignatureSpan">docpad.document.prototype.</span>getOutContent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getOutContent = function () {
  var content;
  content = this.get('contentRendered') || this.getContent();
  return content;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      if (file) {
        if (strict &amp;&amp; file.get('rendered') === false) {
          if (docpad.getConfig().renderPasses === 1) {
            docpad.warn(util.format(locale.renderedEarlyViaInclude, subRelativePath));
          }
          return null;
        }
        return file.<span class="apidocCodeKeywordSpan">getOutContent</span>();
      } else {
        err = new Error(util.format(locale.includeFailed, subRelativePath));
        throw err;
      }
    }
  };
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.document.prototype.hasLayout" id="apidoc.element.docpad.document.prototype.hasLayout">
        function <span class="apidocSignatureSpan">docpad.document.prototype.</span>hasLayout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasLayout = function () {
  return this.get('layout') != null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * the root layout.
	 * next(err,layout)
	 * @method getEve
	 * @param {Function} next
 */

DocumentModel.prototype.getEve = function(next) {
  if (this.<span class="apidocCodeKeywordSpan">hasLayout</span>()) {
    this.getLayout(function(err, layout) {
      if (err) {
        return next(err, null);
      } else if (layout) {
        return layout.getEve(next);
      } else {
        return next(null, null);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.document.prototype.klass" id="apidoc.element.docpad.document.prototype.klass">
        function <span class="apidocSignatureSpan">docpad.document.prototype.</span>klass
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DocumentModel() {
  return DocumentModel.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var attrs, clonedModel, opts;
  attrs = this.getAttributes();
  opts = this.getOptions();
  delete attrs.id;
  delete attrs.meta.id;
  delete opts.meta.id;
  delete opts.meta.attributes.id;
  clonedModel = new this.<span class="apidocCodeKeywordSpan">klass</span>(attrs, opts);
  this.emit('clone', clonedModel);
  return clonedModel;
};


/**
	 * The default attributes for any file model.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.document.prototype.normalize" id="apidoc.element.docpad.document.prototype.normalize">
        function <span class="apidocSignatureSpan">docpad.document.prototype.</span>normalize
        <span class="apidocSignatureSpan">(opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">normalize = function (opts, next) {
  var changes, extensions, filename, meta, outExtension, ref;
  if (opts == null) {
    opts = {};
  }
  ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];
  changes = {};
  meta = this.getMeta();
  outExtension = opts.outExtension || meta.get('outExtension') || null;
  filename = opts.filename || this.get('filename') || null;
  extensions = this.getExtensions({
    filename: filename
  }) || null;
  if (!outExtension) {
    changes.outExtension = outExtension = extensions[0] || null;
  }
  DocumentModel.__super__.normalize.call(this, extendr.extend(opts, changes), next);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var child = new ctor, result = func.apply(child, args);
    return Object(result) === result ? result : child;
  })(this, args, function(){});
};

DocPad.require = function(relativePath) {
  var absolutePath;
  absolutePath = pathUtil.<span class="apidocCodeKeywordSpan">normalize</span>(pathUtil.join(__dirname, relativePath));
  if (absolutePath.replace(__dirname, '') === absolutePath) {
    throw new Error("docpad.require is limited to local docpad files only: " + relativePath);
  }
  return require(absolutePath);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.document.prototype.parse" id="apidoc.element.docpad.document.prototype.parse">
        function <span class="apidocSignatureSpan">docpad.document.prototype.</span>parse
        <span class="apidocSignatureSpan">(opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (opts, next) {
  var buffer, filePath, locale, ref;
  if (opts == null) {
    opts = {};
  }
  ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];
  buffer = this.getBuffer();
  locale = this.getLocale();
  filePath = this.getFilePath();
  DocumentModel.__super__.parse.call(this, opts, (function(_this) {
    return function() {
      var body, content, csonOptions, err, header, i, j, key, len, len1, match, meta, metaDataChanges, metaParseResult, parser,
ref1, ref2, ref3, ref4, regex, seperator;
      meta = _this.getMeta();
      metaDataChanges = {};
      parser = header = body = content = null;
      content = _this.get('content').replace(/\r\n?/gm, '\n');
      regex = /^\s*[^\n]*?(([^\s\d\w])\2{2,})(?:\x20*([a-z]+))?([\s\S]*?)[^\n]*?\1[^\n]*/;
      match = regex.exec(content);
      if (match) {
        seperator = match[1];
        parser = match[3] || 'yaml';
        header = match[4].trim();
        body = content.substring(match[0].length).trim();
        try {
          switch (parser) {
            case 'cson':
            case 'json':
            case 'coffee':
            case 'coffeescript':
            case 'coffee-script':
            case 'js':
            case 'javascript':
              switch (parser) {
                case 'coffee':
                case 'coffeescript':
                case 'coffee-script':
                  parser = 'coffeescript';
                  break;
                case 'js':
                case 'javascript':
                  parser = 'javascript';
              }
              csonOptions = {
                format: parser,
                json: true,
                cson: true,
                coffeescript: true,
                javascript: true
              };
              metaParseResult = CSON.parseString(header, csonOptions);
              if (metaParseResult instanceof Error) {
                metaParseResult.context = "Failed to parse " + parser + " meta header for the file: " + filePath;
                return next(metaParseResult);
              }
              extendr.extend(metaDataChanges, metaParseResult);
              break;
            case 'yaml':
              if (!YAML) {
                YAML = require('yamljs');
              }
              metaParseResult = YAML.parse(header.replace(/\t/g, '    '));
              extendr.extend(metaDataChanges, metaParseResult);
              break;
            default:
              err = new Error(util.format(locale.documentMissingParserError, parser, filePath));
              return next(err);
          }
        } catch (error) {
          err = error;
          err.context = util.format(locale.documentParserError, parser, filePath);
          return next(err);
        }
      } else {
        body = content;
      }
      if (metaDataChanges.encoding &amp;&amp; metaDataChanges.encoding !== _this.get('encoding')) {
        _this.set({
          encoding: metaDataChanges.encoding
        });
        opts.reencode = true;
        return _this.parse(opts, next);
      }
      body = body.replace(/^\n+/, '');
      _this.set({
        source: content,
        content: body,
        header: header,
        body: body,
        parser: parser,
        name: _this.get('name') || _this.get('title') || _this.get('basename')
      });
      if (metaDataChanges.date) {
        metaDataChanges.date = new Date(metaDataChanges.date);
      }
      ref1 = ['ignore', 'skip', 'draft'];
      for (i = 0, len = ref1.length; i &lt; len; i++) {
        key = ref1[i];
        if (metaDataChanges[key] != null) {
          metaDataChanges.ignored = (ref2 = metaDataChanges[key]) != null ? ref2 : false;
          delete metaDataChanges[key];
        }
      }
      ref3 = ['published'];
      for (j = 0, len1 = ref3.length; j &lt; len1; j++) {
        key = ref3[j];
        if (metaDataChanges[key] != null) {
          metaDataChanges.ignored = !((ref4 = metaDataChanges[key]) != null ? ref4 : false);
          delete metaDataChanges[key];
        }
      }
      if (metaDataChanges.urls) {
        _this.addUrl(metaDataChan ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return complete();
}
return safefs.readFile(config.databaseCachePath, function(err, data) {
  var addedModels, databaseData;
  if (err) {
    return complete(err);
  }
  databaseData = JSON.<span class="apidocCodeKeywordSpan">parse</span>(data.toString());
  opts.cache = true;
  opts.initial = true;
  opts.reset = false;
  opts.populate = true;
  opts.reload = true;
  opts.partial = true;
  lastGenerateStarted = new Date(databaseData.generateStarted);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.document.prototype.referencesOthers" id="apidoc.element.docpad.document.prototype.referencesOthers">
        function <span class="apidocSignatureSpan">docpad.document.prototype.</span>referencesOthers
        <span class="apidocSignatureSpan">(flag)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">referencesOthers = function (flag) {
  if (flag == null) {
    flag = true;
  }
  this.set({
    referencesOthers: flag
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
},
getEnvironments: function() {
  return docpad.getEnvironments();
},
referencesOthers: function(flag) {
  var document;
  document = this.getDocument();
  document.<span class="apidocCodeKeywordSpan">referencesOthers</span>();
  return null;
},
getDocument: function() {
  return this.documentModel;
},
getPath: function(path, parentPath) {
  var document;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.document.prototype.render" id="apidoc.element.docpad.document.prototype.render">
        function <span class="apidocSignatureSpan">docpad.document.prototype.</span>render
        <span class="apidocSignatureSpan">(opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">render = function (opts, next) {
  var base, base1, contentRenderedWithoutLayouts, err, file, filePath, key, locale, ref, ref1, relativePath, tasks, value;
  if (opts == null) {
    opts = {};
  }
  ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];
  file = this;
  locale = this.getLocale();
  contentRenderedWithoutLayouts = null;
  filePath = this.getFilePath();
  relativePath = file.get('relativePath');
  opts = extendr.clone(opts || {});
  if (opts.actions == null) {
    opts.actions = ['renderExtensions', 'renderDocument', 'renderLayouts'];
  }
  if (opts.apply != null) {
    err = new Error(locale.documentApplyError);
    return next(err);
  }
  if (opts.content == null) {
    opts.content = file.get('body');
  }
  opts.templateData = extendr.clone(opts.templateData || {});
  if ((base = opts.templateData).document == null) {
    base.document = file.toJSON();
  }
  if ((base1 = opts.templateData).documentModel == null) {
    base1.documentModel = file;
  }
  ref1 = opts.templateData;
  for (key in ref1) {
    if (!hasProp.call(ref1, key)) continue;
    value = ref1[key];
    if ((value != null ? value.bind : void 0) === Function.prototype.bind) {
      opts.templateData[key] = value.bind(opts.templateData);
    }
  }
  file.log('debug', util.format(locale.documentRender, filePath));
  tasks = new this.TaskGroup("render tasks for: " + relativePath, {
    next: function(err) {
      var contentRendered, rendered;
      if (err) {
        err.context = util.format(locale.documentRenderError, filePath);
        return next(err, opts.content, file);
      }
      contentRendered = opts.content;
      if (contentRenderedWithoutLayouts == null) {
        contentRenderedWithoutLayouts = contentRendered;
      }
      rendered = true;
      file.set({
        contentRendered: contentRendered,
        contentRenderedWithoutLayouts: contentRenderedWithoutLayouts,
        rendered: rendered
      });
      file.log('debug', util.format(locale.documentRendered, filePath));
      file.attributes.rtime = new Date();
      return next(null, opts.content, file);
    }
  });
  if (indexOf.call(opts.actions, 'renderExtensions') &gt;= 0) {
    tasks.addTask("renderExtensions: " + relativePath, function(complete) {
      return file.renderExtensions(opts, function(err, result) {
        if (err) {
          return complete(err);
        }
        opts.content = result;
        return complete();
      });
    });
  }
  if (indexOf.call(opts.actions, 'renderDocument') &gt;= 0) {
    tasks.addTask("renderDocument: " + relativePath, function(complete) {
      return file.renderDocument(opts, function(err, result) {
        if (err) {
          return complete(err);
        }
        opts.content = result;
        contentRenderedWithoutLayouts = result;
        return complete();
      });
    });
  }
  if (indexOf.call(opts.actions, 'renderLayouts') &gt;= 0) {
    tasks.addTask("renderLayouts: " + relativePath, function(complete) {
      return file.renderLayouts(opts, function(err, result) {
        if (err) {
          return complete(err);
        }
        opts.content = result;
        return complete();
      });
    });
  }
  tasks.run();
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.document.prototype.renderDocument" id="apidoc.element.docpad.document.prototype.renderDocument">
        function <span class="apidocSignatureSpan">docpad.document.prototype.</span>renderDocument
        <span class="apidocSignatureSpan">(opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">renderDocument = function (opts, next) {
  var content, eventData, extension, file, ref, templateData;
  file = this;
  ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];
  content = opts.content, templateData = opts.templateData;
  extension = this.get('extensions')[0];
  if (content == null) {
    content = this.get('body');
  }
  if (templateData == null) {
    templateData = {};
  }
  eventData = {
    extension: extension,
    templateData: templateData,
    file: file,
    content: content
  };
  file.trigger('renderDocument', eventData, function(err) {
    return next(err, eventData.content);
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var docpad, ref2;
  ref2 = extractOptsAndCallback(opts, next), opts = ref2[0], next = ref2[1];
  docpad = this;
  docpad.loadDocument(document, opts, function(err) {
    if (err) {
      return next(err);
    }
    return docpad.<span class="apidocCodeKeywordSpan">renderDocument</span>(document, opts, next);
  });
  return this;
};


/**
	 * Render a document
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.document.prototype.renderExtensions" id="apidoc.element.docpad.document.prototype.renderExtensions">
        function <span class="apidocSignatureSpan">docpad.document.prototype.</span>renderExtensions
        <span class="apidocSignatureSpan">(opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">renderExtensions = function (opts, next) {
  var content, extension, extensions, extensionsReversed, file, filePath, filename, i, len, locale, ref, renderSingleExtensions,
result, tasks, templateData;
  file = this;
  locale = this.getLocale();
  ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];
  content = opts.content, templateData = opts.templateData, renderSingleExtensions = opts.renderSingleExtensions;
  extensions = this.get('extensions');
  filename = this.get('filename');
  filePath = this.getFilePath();
  if (content == null) {
    content = this.get('body');
  }
  if (templateData == null) {
    templateData = {};
  }
  if (renderSingleExtensions == null) {
    renderSingleExtensions = this.get('renderSingleExtensions');
  }
  result = content;
  extensionsReversed = [];
  if (extensions.length === 0 &amp;&amp; filename) {
    extensionsReversed.push(filename);
  }
  for (i = 0, len = extensions.length; i &lt; len; i++) {
    extension = extensions[i];
    extensionsReversed.unshift(extension);
  }
  if (renderSingleExtensions &amp;&amp; extensionsReversed.length === 1) {
    if (renderSingleExtensions !== 'auto' || filename.replace(/^\./, '') === extensionsReversed[0]) {
      extensionsReversed.push(null);
    }
  }
  if (extensionsReversed.length &lt;= 1) {
    return next(null, result);
  }
  tasks = new this.TaskGroup("renderExtensions: " + filePath, {
    next: function(err) {
      return next(err, result);
    }
  });
  eachr(extensionsReversed.slice(1), function(extension, index) {
    return tasks.addTask("renderExtension: " + filePath + " [" + extensionsReversed[index] + " =&gt; " + extension + "]", function(
complete) {
      var eventData;
      eventData = {
        inExtension: extensionsReversed[index],
        outExtension: extension,
        templateData: templateData,
        file: file,
        content: result
      };
      return file.trigger('render', eventData, function(err) {
        if (err) {
          return complete(err);
        }
        if (result &amp;&amp; (result === eventData.content)) {
          file.log('warn', util.format(locale.documentRenderExtensionNoChange, eventData.inExtension, eventData.outExtension, filePath
));
          return complete();
        }
        result = eventData.content;
        return complete();
      });
    });
  });
  tasks.run();
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    file.log('debug', util.format(locale.documentRendered, filePath));
    file.attributes.rtime = new Date();
    return next(null, opts.content, file);
  }
});
if (indexOf.call(opts.actions, 'renderExtensions') &gt;= 0) {
  tasks.addTask("renderExtensions: " + relativePath, function(complete) {
    return file.<span class="apidocCodeKeywordSpan">renderExtensions</span>(opts, function(err, result) {
      if (err) {
        return complete(err);
      }
      opts.content = result;
      return complete();
    });
  });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.document.prototype.renderLayouts" id="apidoc.element.docpad.document.prototype.renderLayouts">
        function <span class="apidocSignatureSpan">docpad.document.prototype.</span>renderLayouts
        <span class="apidocSignatureSpan">(opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">renderLayouts = function (opts, next) {
  var content, file, filePath, locale, ref, templateData;
  file = this;
  locale = this.getLocale();
  filePath = this.getFilePath();
  ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];
  content = opts.content, templateData = opts.templateData;
  if (content == null) {
    content = this.get('body');
  }
  if (templateData == null) {
    templateData = {};
  }
  return file.getLayout(function(err, layout) {
    var layoutSelector;
    if (err) {
      return next(err, content);
    }
    if (layout) {
      templateData.content = content;
      return layout.clone().action('render', {
        templateData: templateData
      }, function(err, result) {
        return next(err, result);
      });
    } else if (file.hasLayout()) {
      layoutSelector = file.get('layout');
      err = new Error(util.format(locale.documentMissingLayoutError, layoutSelector, filePath));
      return next(err, content);
    } else {
      return next(null, content);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      contentRenderedWithoutLayouts = result;
      return complete();
    });
  });
}
if (indexOf.call(opts.actions, 'renderLayouts') &gt;= 0) {
  tasks.addTask("renderLayouts: " + relativePath, function(complete) {
    return file.<span class="apidocCodeKeywordSpan">renderLayouts</span>(opts, function(err, result) {
      if (err) {
        return complete(err);
      }
      opts.content = result;
      return complete();
    });
  });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.document.prototype.writeSource" id="apidoc.element.docpad.document.prototype.writeSource">
        function <span class="apidocSignatureSpan">docpad.document.prototype.</span>writeSource
        <span class="apidocSignatureSpan">(opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeSource = function (opts, next) {
  var body, content, file, filePath, header, metaData, parser, ref, seperator, source;
  ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];
  file = this;
  filePath = this.getFilePath();
  if (opts.content == null) {
    opts.content = (this.getContent() || '').toString('');
  }
  metaData = this.getMeta().toJSON(true);
  delete metaData.writeSource;
  content = body = opts.content.replace(/^\s+/, '');
  header = CSON.stringify(metaData);
  if (header instanceof Error) {
    header.context = "Failed to write CSON meta header for the file: " + filePath;
    return next(header);
  }
  if (!header || header === '{}') {
    source = body;
  } else {
    parser = 'cson';
    seperator = '###';
    source = seperator + " " + parser + "\n" + header + "\n" + seperator + "\n\n" + body;
  }
  opts.content = source;
  DocumentModel.__super__.writeSource.call(this, opts, next);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.elements" id="apidoc.module.docpad.elements">module docpad.elements</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.elements.elements" id="apidoc.element.docpad.elements.elements">
        function <span class="apidocSignatureSpan">docpad.</span>elements
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ElementsCollection() {
  return ElementsCollection.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.elements.extend" id="apidoc.element.docpad.elements.extend">
        function <span class="apidocSignatureSpan">docpad.elements.</span>extend
        <span class="apidocSignatureSpan">(protoProps, staticProps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extend = function (protoProps, staticProps) {
  var parent = this;
  var child;

  // The constructor function for the new subclass is either defined by you
  // (the "constructor" property in your `extend` definition), or defaulted
  // by us to simply call the parent constructor.
  if (protoProps &amp;&amp; _.has(protoProps, 'constructor')) {
    child = protoProps.constructor;
  } else {
    child = function(){ return parent.apply(this, arguments); };
  }

  // Add static properties to the constructor function, if supplied.
  _.extend(child, parent, staticProps);

  // Set the prototype chain to inherit from `parent`, without calling
  // `parent` constructor function.
  var Surrogate = function(){ this.constructor = child; };
  Surrogate.prototype = parent.prototype;
  child.prototype = new Surrogate;

  // Add prototype properties (instance properties) to the subclass,
  // if supplied.
  if (protoProps) _.extend(child.prototype, protoProps);

  // Set a convenience property in case the parent's prototype is needed
  // later.
  child.__super__ = parent.prototype;

  return child;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## v6.60.0 2014 January 16
- Added `etag`, `cache-control`, `last-modified`, `date`, and `charset` headers
	- Thanks to [Marcus Stong](https://github.com/stongo) for [issue #740](https://github.com/bevry/docpad/issues/740)


## v6.59.6 2013 December 20
- Non-CoffeeScript plugin testers can now rejoice, you can now easily extend the tester classes by using `TesterClass.<span class="apidocCodeKeywordSpan">extend</span>({})`
	- Thanks to the [extendonclass](https://github.com/bevry/extendonclass) module


## v6.59.5 2013 December 20
- Non-CoffeeScript plugin authors can now rejoice, you can now easily extend the `BasePlugin` class by using `var MyPlugin = BasePlugin
.extend({})`
	- Thanks to the [extendonclass](https://github.com/bevry/extendonclass) module
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.elements.prototype" id="apidoc.module.docpad.elements.prototype">module docpad.elements.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.elements.prototype.add" id="apidoc.element.docpad.elements.prototype.add">
        function <span class="apidocSignatureSpan">docpad.elements.prototype.</span>add
        <span class="apidocSignatureSpan">(values, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">add = function (values, opts) {
  var i, key, len, value;
  if (typeChecker.isArray(values)) {
    values = values.slice();
  } else if (values) {
    values = [values];
  } else {
    values = [];
  }
  for (key = i = 0, len = values.length; i &lt; len; key = ++i) {
    value = values[key];
    if (typeChecker.isString(value)) {
      values[key] = new Model({
        html: value
      });
    }
  }
  ElementsCollection.__super__.add.call(this, values, opts);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
    if (skeleton.name == null) {
      skeleton.name = skeletonKey;
    }
    if (skeleton.position == null) {
      skeleton.position = index;
    }
    docpad.skeletonsCollection.<span class="apidocCodeKeywordSpan">add</span>(new Model(skeleton));
    return ++index;
  });
}
docpad.skeletonsCollection.add(new Model({
  id: 'none',
  name: locale.skeletonNoneName,
  description: locale.skeletonNoneDescription,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.elements.prototype.constructor" id="apidoc.element.docpad.elements.prototype.constructor">
        function <span class="apidocSignatureSpan">docpad.elements.prototype.</span>constructor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ElementsCollection() {
  return ElementsCollection.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.elements.prototype.join" id="apidoc.element.docpad.elements.prototype.join">
        function <span class="apidocSignatureSpan">docpad.elements.prototype.</span>join
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">join = function () {
  return this.toHTML();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// and suffix docpad with it's profile flag
var command = [
	'node-debug',
	__dirname + '/docpad',
].concat(process.argv.slice(2))

// Output the command we'll be running
console.log(command.<span class="apidocCodeKeywordSpan">join</span>(' '))

// And spawn our command and let us know if any errors occur
require('safeps').spawn(command, {stdio:'inherit'}, function (err) {
	if (err)  process.stderr.write(err)
})
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.elements.prototype.model" id="apidoc.element.docpad.elements.prototype.model">
        function <span class="apidocSignatureSpan">docpad.elements.prototype.</span>model
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Model() {
  return Model.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.elements.prototype.remove" id="apidoc.element.docpad.elements.prototype.remove">
        function <span class="apidocSignatureSpan">docpad.elements.prototype.</span>remove
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function () {
  ElementsCollection.__super__.remove.apply(this, arguments);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  delete docpad.filesByUrl[url];
}
outPath = model.get('outPath');
if (outPath) {
  updatedModels = docpad.database.findAll({
    outPath: outPath
  });
  updatedModels.<span class="apidocCodeKeywordSpan">remove</span>(model);
  updatedModels.each(function(model) {
    return model.set({
      'mtime': new Date()
    });
  });
  docpad.log('debug', 'Updated mtime for these models due to remove of a similar one', updatedModels.pluck(&amp;#
x27;relativePath'));
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.elements.prototype.reset" id="apidoc.element.docpad.elements.prototype.reset">
        function <span class="apidocSignatureSpan">docpad.elements.prototype.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset = function () {
  ElementsCollection.__super__.reset.apply(this, arguments);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  DocPad.prototype.resetCollections = function(opts, next) {
var database, docpad, meta, ref2, scripts, styles;
ref2 = extractOptsAndCallback(opts, next), opts = ref2[0], next = ref2[1];
docpad = this;
database = docpad.getDatabase();
docpad.generated = false;
database.<span class="apidocCodeKeywordSpan">reset</span>([]);
meta = this.getBlock('meta').reset([]);
scripts = this.getBlock('scripts').reset([]);
styles = this.getBlock('styles').reset([]);
if (docpad.getConfig().poweredByDocPad !== false) {
  meta.add("&lt;meta name=\"generator\" content=\"DocPad v" + (docpad.getVersion()) + "\" /&amp;#
x3e;");
}
this.filesByUrl = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.elements.prototype.set" id="apidoc.element.docpad.elements.prototype.set">
        function <span class="apidocSignatureSpan">docpad.elements.prototype.</span>set
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">set = function () {
  ElementsCollection.__super__.set.apply(this, arguments);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    for (key in attrs) {
      if (!hasProp.call(attrs, key)) continue;
      value = attrs[key];
      if (this.get(key) === ((ref = this.defaults) != null ? ref[key] : void 0)) {
        set[key] = value;
      }
    }
    return this.<span class="apidocCodeKeywordSpan">set</span>(set, opts);
  };

  return Model;

})(queryEngine.Backbone.Model);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.elements.prototype.toHTML" id="apidoc.element.docpad.elements.prototype.toHTML">
        function <span class="apidocSignatureSpan">docpad.elements.prototype.</span>toHTML
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toHTML = function () {
  var html;
  html = '';
  this.forEach(function(item) {
    return html += item.get('html') || '';
  });
  return html;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	collections:
		pages: (database) -&gt;
			database.findAll(pageOrder: $exists: true)
		posts: (database) -&gt;
			database.findAll(tags: $has: 'post')
	```
- Templates now have access to a new function called `include`. It will include the renderedContent (or if unavailable to content
) of the file. In eco, you would use it like this: `&lt;%- @include('filename.ext1.ext2.ext3') %&gt;`
- Blocks are now Collections too! You can call `.add` on them, and use `.<span class="apidocCodeKeywordSpan">toHTML</span>()` to
 grab them as HTML (`.join` will do the same thing for b/c)
- This should be a completely backwards compatible release, let us know if you any issues on the


## v5.1.2 2012 April 26
- Fixed some UTF8 encoded files from being detected as binary
- Fixed documents with no extension being outputted with an undefined extension
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.file" id="apidoc.module.docpad.file">module docpad.file</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.file.file" id="apidoc.element.docpad.file.file">
        function <span class="apidocSignatureSpan">docpad.</span>file
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FileModel() {
  this.action = bind(this.action, this);
  return FileModel.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.extend" id="apidoc.element.docpad.file.extend">
        function <span class="apidocSignatureSpan">docpad.file.</span>extend
        <span class="apidocSignatureSpan">(protoProps, staticProps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extend = function (protoProps, staticProps) {
  var parent = this;
  var child;

  // The constructor function for the new subclass is either defined by you
  // (the "constructor" property in your `extend` definition), or defaulted
  // by us to simply call the parent constructor.
  if (protoProps &amp;&amp; _.has(protoProps, 'constructor')) {
    child = protoProps.constructor;
  } else {
    child = function(){ return parent.apply(this, arguments); };
  }

  // Add static properties to the constructor function, if supplied.
  _.extend(child, parent, staticProps);

  // Set the prototype chain to inherit from `parent`, without calling
  // `parent` constructor function.
  var Surrogate = function(){ this.constructor = child; };
  Surrogate.prototype = parent.prototype;
  child.prototype = new Surrogate;

  // Add prototype properties (instance properties) to the subclass,
  // if supplied.
  if (protoProps) _.extend(child.prototype, protoProps);

  // Set a convenience property in case the parent's prototype is needed
  // later.
  child.__super__ = parent.prototype;

  return child;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## v6.60.0 2014 January 16
- Added `etag`, `cache-control`, `last-modified`, `date`, and `charset` headers
	- Thanks to [Marcus Stong](https://github.com/stongo) for [issue #740](https://github.com/bevry/docpad/issues/740)


## v6.59.6 2013 December 20
- Non-CoffeeScript plugin testers can now rejoice, you can now easily extend the tester classes by using `TesterClass.<span class="apidocCodeKeywordSpan">extend</span>({})`
	- Thanks to the [extendonclass](https://github.com/bevry/extendonclass) module


## v6.59.5 2013 December 20
- Non-CoffeeScript plugin authors can now rejoice, you can now easily extend the `BasePlugin` class by using `var MyPlugin = BasePlugin
.extend({})`
	- Thanks to the [extendonclass](https://github.com/bevry/extendonclass) module
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.file.prototype" id="apidoc.module.docpad.file.prototype">module docpad.file.prototype</a></h1>




    <h2>
        <a href="#apidoc.element.docpad.file.prototype.action" id="apidoc.element.docpad.file.prototype.action">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>action
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">action = function () {
  var args;
  args = 1 &lt;= arguments.length ? slice.call(arguments, 0) : [];
  return docpadUtil.action.apply(this, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


## v6.65.0 2014 May 17
- Independent rendering (including layout rendering) now occurs on a clone, allowing independent renderings on the same file to
occur at the same time
	- This fixes an issue where a recursive render on a file will cause a stalemate
- More detailed errors when something goes wrong with rendering a file
- Deprecated `docpad.cloneModel(document)`, you can now use `document.clone()` safely
- Deprecated `apply` option for `document.render`, now use `document.clone().<span class="apidocCodeKeywordSpan">action</span>(&amp;#
x27;render')` instead
- Fixed broken `docpad.addModel` and `docpad.addModels` (broken since their introduction in v6.55.0)
- Updated dependencies


## v6.64.3 2014 May 4
- Added donation plea for [bevry/meta#3](http://github.com/bevry/meta/issues/3)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.addUrl" id="apidoc.element.docpad.file.prototype.addUrl">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>addUrl
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addUrl = function (url) {
  var existingUrl, found, i, j, len, len1, newUrl, urls;
  if (url instanceof Array) {
    for (i = 0, len = url.length; i &lt; len; i++) {
      newUrl = url[i];
      this.addUrl(newUrl);
    }
  } else if (url) {
    found = false;
    urls = this.get('urls');
    for (j = 0, len1 = urls.length; j &lt; len1; j++) {
      existingUrl = urls[j];
      if (existingUrl === url) {
        found = true;
        break;
      }
    }
    if (!found) {
      urls.push(url);
    }
    this.trigger('change:urls', this, urls, {});
    this.trigger('change', this, {});
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  key = ref3[j];
  if (metaDataChanges[key] != null) {
    metaDataChanges.ignored = !((ref4 = metaDataChanges[key]) != null ? ref4 : false);
    delete metaDataChanges[key];
  }
}
if (metaDataChanges.urls) {
  _this.<span class="apidocCodeKeywordSpan">addUrl</span>(metaDataChanges.urls);
}
if (metaDataChanges.url) {
  _this.setUrl(metaDataChanges.url);
}
if (metaDataChanges.id != null) {
  _this.log('warn', util.format(locale.documentIdChangeError, filePath));
  delete metaDataChanges.id;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.clone" id="apidoc.element.docpad.file.prototype.clone">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>clone
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clone = function () {
  var attrs, clonedModel, opts;
  attrs = this.getAttributes();
  opts = this.getOptions();
  delete attrs.id;
  delete attrs.meta.id;
  delete opts.meta.id;
  delete opts.meta.attributes.id;
  clonedModel = new this.klass(attrs, opts);
  this.emit('clone', clonedModel);
  return clonedModel;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	Big thanks to [pflannery](https://github.com/pflannery) for pushing for this with [#814](https://github.com/bevry/docpad/pull/814
)


## v6.65.0 2014 May 17
- Independent rendering (including layout rendering) now occurs on a clone, allowing independent renderings on the same file to
occur at the same time
	- This fixes an issue where a recursive render on a file will cause a stalemate
- More detailed errors when something goes wrong with rendering a file
- Deprecated `docpad.cloneModel(document)`, you can now use `document.<span class="apidocCodeKeywordSpan">clone</span>()` safely
- Deprecated `apply` option for `document.render`, now use `document.clone().action('render')` instead
- Fixed broken `docpad.addModel` and `docpad.addModels` (broken since their introduction in v6.55.0)
- Updated dependencies


## v6.64.3 2014 May 4
- Added donation plea for [bevry/meta#3](http://github.com/bevry/meta/issues/3)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.constructor" id="apidoc.element.docpad.file.prototype.constructor">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>constructor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FileModel() {
  this.action = bind(this.action, this);
  return FileModel.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.contextualize" id="apidoc.element.docpad.file.prototype.contextualize">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>contextualize
        <span class="apidocSignatureSpan">(opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">contextualize = function (opts, next) {
  var ref;
  if (opts == null) {
    opts = {};
  }
  ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];
  next();
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  tasks.addTask("Load -&gt; Parse", function(complete) {
    return file.parse(complete);
  });
  tasks.addTask("Parse -&gt; Normalize", function(complete) {
    return file.normalize(complete);
  });
  tasks.addTask("Normalize -&gt; Contextualize", function(complete) {
    return file.<span class="apidocCodeKeywordSpan">contextualize</span>(complete);
  });
  tasks.run();
  return this;
};


/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.delete" id="apidoc.element.docpad.file.prototype.delete">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>delete
        <span class="apidocSignatureSpan">(opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">delete = function (opts, next) {
  var file, locale, ref;
  ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];
  file = this;
  locale = this.getLocale();
  opts.path || (opts.path = file.get('outPath'));
  opts.type || (opts.type = 'out file');
  if (!opts.path) {
    next();
    return this;
  }
  file.log('debug', util.format(locale.fileDelete, opts.type, opts.path));
  safefs.exists(opts.path, function(exists) {
    if (!exists) {
      return next();
    }
    return safefs.unlink(opts.path, function(err) {
      if (err) {
        return next(err);
      }
      file.log('debug', util.format(locale.fileDeleted, opts.type, opts.path));
      return next();
    });
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.deleteSource" id="apidoc.element.docpad.file.prototype.deleteSource">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>deleteSource
        <span class="apidocSignatureSpan">(opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteSource = function (opts, next) {
  var file, ref;
  ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];
  file = this;
  opts.path || (opts.path = file.get('fullPath'));
  opts.type || (opts.type = 'source file');
  this["delete"](opts, next);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.encode" id="apidoc.element.docpad.file.prototype.encode">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>encode
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">encode = function (opts) {
  var err, locale, result;
  locale = this.getLocale();
  result = opts.content;
  if (opts.to == null) {
    opts.to = 'utf8';
  }
  if (opts.from == null) {
    opts.from = 'utf8';
  }
  try {
    if (encodingUtil == null) {
      encodingUtil = require('encoding');
    }
  } catch (error) {}
  if (encodingUtil != null) {
    this.log('info', util.format(locale.fileEncode, opts.to, opts.from, opts.path));
    try {
      result = encodingUtil.convert(opts.content, opts.to, opts.from);
    } catch (error) {
      err = error;
      this.log('warn', util.format(locale.fileEncodeConvertError, opts.to, opts.from, opts.path));
    }
  } else {
    this.log('warn', util.format(locale.fileEncodeConvertError, opts.to, opts.from, opts.path));
  }
  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  if (encoding == null) {
    encoding = (ref1 = jschardet.detect(buffer)) != null ? ref1.encoding : void 0;
  }
}
encoding || (encoding = 'utf8');
if (docpadUtil.isStandardEncoding(encoding) === false) {
  buffer = this.<span class="apidocCodeKeywordSpan">encode</span>({
    path: relativePath,
    to: 'utf8',
    from: encoding,
    content: buffer
  });
}
changes.encoding = encoding;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.extractOptions" id="apidoc.element.docpad.file.prototype.extractOptions">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>extractOptions
        <span class="apidocSignatureSpan">(attrs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extractOptions = function (attrs) {
  var key, result, value;
  result = {};
  for (key in attrs) {
    if (!hasProp.call(attrs, key)) continue;
    value = attrs[key];
    if (this.isOption(key)) {
      result[key] = value;
      delete attrs[key];
    }
  }
  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var newAttrs, options, ref;
  if (typeChecker.isString(attrs)) {
    newAttrs = {};
    newAttrs[attrs] = opts;
    return this.set(newAttrs, opts);
  }
  attrs = (ref = typeof attrs.toJSON === "function" ? attrs.toJSON() : void 0) != null ? ref : attrs;
  options = this.<span class="apidocCodeKeywordSpan">extractOptions</span>(attrs);
  FileModel.__super__.set.call(this, attrs, opts);
  this.setOptions(options, opts);
  return this;
};


/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.getActionRunner" id="apidoc.element.docpad.file.prototype.getActionRunner">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getActionRunner
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getActionRunner = function () {
  return this.actionRunnerInstance;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */
action: function(action, opts, next) {
  var actionMethod, actionTaskOrGroup, actions, err, i, len, locale, me, ref1, ref2, ref3, run, runner, runnerTask, task;
  ref1 = extractOptsAndCallback(opts, next), opts = ref1[0], next = ref1[1];
  me = this;
  locale = me.getLocale();
  run = (ref2 = opts.run) != null ? ref2 : true;
  runner = (ref3 = opts.runner) != null ? ref3 : me.<span class="apidocCodeKeywordSpan">getActionRunner</span>();
  if (Array.isArray(action)) {
    actions = action;
  } else {
    actions = action.split(/[,\s]+/g);
  }
  actions = uniq(compact(actions));
  if (actions.length === 0) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.getAttributes" id="apidoc.element.docpad.file.prototype.getAttributes">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getAttributes
        <span class="apidocSignatureSpan">(dereference)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAttributes = function (dereference) {
  var attrs;
  if (dereference == null) {
    dereference = true;
  }
  attrs = this.toJSON(dereference);
  delete attrs.id;
  return attrs;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  generateEnded: docpad.generateEnded,
  models: (function() {
    var i, len, ref5, results;
    ref5 = database.models;
    results = [];
    for (i = 0, len = ref5.length; i &lt; len; i++) {
      model = ref5[i];
      results.push(model.<span class="apidocCodeKeywordSpan">getAttributes</span>());
    }
    return results;
  })()
};
databaseDataDump = JSON.stringify(databaseData, null, '  ');
docpad.log('info', util.format(locale.databaseCacheWrite, databaseData.models.length));
return safefs.writeFile(config.databaseCachePath, databaseDataDump, complete);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.getBuffer" id="apidoc.element.docpad.file.prototype.getBuffer">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getBuffer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getBuffer = function () {
  return this.buffer;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  DocumentModel.prototype.parse = function(opts, next) {
var buffer, filePath, locale, ref;
if (opts == null) {
  opts = {};
}
ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];
buffer = this.<span class="apidocCodeKeywordSpan">getBuffer</span>();
locale = this.getLocale();
filePath = this.getFilePath();
DocumentModel.__super__.parse.call(this, opts, (function(_this) {
  return function() {
    var body, content, csonOptions, err, header, i, j, key, len, len1, match, meta, metaDataChanges, metaParseResult, parser, ref1
, ref2, ref3, ref4, regex, seperator;
    meta = _this.getMeta();
    metaDataChanges = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.getContent" id="apidoc.element.docpad.file.prototype.getContent">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getContent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getContent = function () {
  return this.get('content') || this.getBuffer();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * or, if early enough in the process, the file buffer object.
	 * @method getOutContent
	 * @return {String or Object}
 */

DocumentModel.prototype.getOutContent = function() {
  var content;
  content = this.get('contentRendered') || this.<span class="apidocCodeKeywordSpan">getContent</span>();
  return content;
};


/**
	 * Set flag to indicate if the document
	 * contains references to other documents.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.getExtensions" id="apidoc.element.docpad.file.prototype.getExtensions">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getExtensions
        <span class="apidocSignatureSpan">(arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getExtensions = function (arg) {
  var extensions, filename;
  extensions = arg.extensions, filename = arg.filename;
  extensions || (extensions = this.get('extensions') || null);
  if ((extensions || []).length === 0) {
    filename = this.getFilename({
      filename: filename
    });
    if (filename) {
      extensions = docpadUtil.getExtensions(filename);
    }
  }
  return extensions || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @method getExtension
	 * @param {Array} extensions
	 * @return {String} the extension
 */
getExtension: function(extensions) {
  var extension;
  if (!require('typechecker').isArray(extensions)) {
    extensions = docpadUtil.<span class="apidocCodeKeywordSpan">getExtensions</span>(extensions);
  }
  if (extensions.length !== 0) {
    extension = extensions.slice(-1)[0] || null;
  } else {
    extension = null;
  }
  return extension;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.getFilePath" id="apidoc.element.docpad.file.prototype.getFilePath">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getFilePath
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getFilePath = function (opts) {
  var filename, fullPath, relativePath, result;
  if (opts == null) {
    opts = {};
  }
  fullPath = opts.fullPath, relativePath = opts.relativePath, filename = opts.filename;
  result = (fullPath != null ? fullPath : this.get('fullPath')) || (relativePath != null ? relativePath : this.get('relativePath
')) || (filename != null ? filename : this.get('filename')) || null;
  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 *	docpad.setCollection('partials', database.createLiveChildCollection()
	 *		.setQuery('isPartial', {
	 *				$or:
	 *					isPartial: true
	 *					fullPath: $startsWith: config.partialsPath
	 *		})
	 *		.on('add', (model) -&gt;
	 *			docpad.log('debug', util.format(locale.addingPartial, model.<span class="apidocCodeKeywordSpan">getFilePath</span>()))
	 *			model.setDefaults(
	 *				isPartial: true
	 *				render: false
	 *				write: false
	 *			)
	 *		)
	 *	)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.getFilename" id="apidoc.element.docpad.file.prototype.getFilename">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getFilename
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getFilename = function (opts) {
  var filename, fullPath, relativePath, result;
  if (opts == null) {
    opts = {};
  }
  fullPath = opts.fullPath, relativePath = opts.relativePath, filename = opts.filename;
  result = filename != null ? filename : this.get('filename');
  if (!result) {
    result = (fullPath != null ? fullPath : this.get('fullPath')) || (relativePath != null ? relativePath : this.get('relativePath
'));
    if (result) {
      result = pathUtil.basename(result);
    }
  }
  result || (result = null);
  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */

FileModel.prototype.getExtensions = function(arg) {
  var extensions, filename;
  extensions = arg.extensions, filename = arg.filename;
  extensions || (extensions = this.get('extensions') || null);
  if ((extensions || []).length === 0) {
    filename = this.<span class="apidocCodeKeywordSpan">getFilename</span>({
      filename: filename
    });
    if (filename) {
      extensions = docpadUtil.getExtensions(filename);
    }
  }
  return extensions || null;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.getLocale" id="apidoc.element.docpad.file.prototype.getLocale">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getLocale
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLocale = function () {
  return this.locale;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Get the DocPad version string
	 * @method getVersionString
	 * @return {String}
 */

DocPad.prototype.getVersionString = function() {
  if (docpadUtil.isLocalDocPadExecutable()) {
    return util.format(this.<span class="apidocCodeKeywordSpan">getLocale</span>().versionLocal, this.getVersion(), this.corePath
);
  } else {
    return util.format(this.getLocale().versionGlobal, this.getVersion(), this.corePath);
  }
};


/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.getMeta" id="apidoc.element.docpad.file.prototype.getMeta">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getMeta
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getMeta = function () {
  var args, ref;
  args = 1 &lt;= arguments.length ? slice.call(arguments, 0) : [];
  if (this.meta === null) {
    this.meta = new Model();
  }
  if (args.length) {
    return (ref = this.meta).get.apply(ref, args);
  } else {
    return this.meta;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	- [watchr](https://github.com/bevry/watchr) ~2.3.4 to ~2.3.5
		- Fixes a bug with uncaught watching exceptions


## v6.21.8 2013 February 5
- Swapped out underscore dependency for lodash
- Underscore is no longer provided to testers
- `File::getMeta` now aliases to `File.<span class="apidocCodeKeywordSpan">getMeta</span>().get` if arguments have been supplied
- No longer does deep clones on template data per file render (just shallow clone now)
- Fixed a bug that keeps `exists` attribute on `File` always `true`
	- Thanks to [Stefan](https://github.com/stegrams) for [pull request #409](https://github.com/bevry/docpad/pull/409)
- Updated dependencies
	- [bal-util](https://github.com/balupton/bal-util) ~1.16.3 to ~1.16.3
	- [watchr](https://github.com/bevry/watchr) ~2.3.3 to ~2.3.4
		- Way better performance and reliability
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.getOptions" id="apidoc.element.docpad.file.prototype.getOptions">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getOptions
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getOptions = function () {
  return {
    detectEncoding: this.detectEncoding,
    rootOutDirPath: this.rootOutDirPath,
    locale: this.locale,
    stat: this.stat,
    buffer: this.buffer,
    meta: this.meta,
    TaskGroup: this.TaskGroup
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @method clone
	 * @return {Object} cloned file model
 */

FileModel.prototype.clone = function() {
  var attrs, clonedModel, opts;
  attrs = this.getAttributes();
  opts = this.<span class="apidocCodeKeywordSpan">getOptions</span>();
  delete attrs.id;
  delete attrs.meta.id;
  delete opts.meta.id;
  delete opts.meta.attributes.id;
  clonedModel = new this.klass(attrs, opts);
  this.emit('clone', clonedModel);
  return clonedModel;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.getOutContent" id="apidoc.element.docpad.file.prototype.getOutContent">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getOutContent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getOutContent = function () {
  return this.getContent();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      if (file) {
        if (strict &amp;&amp; file.get('rendered') === false) {
          if (docpad.getConfig().renderPasses === 1) {
            docpad.warn(util.format(locale.renderedEarlyViaInclude, subRelativePath));
          }
          return null;
        }
        return file.<span class="apidocCodeKeywordSpan">getOutContent</span>();
      } else {
        err = new Error(util.format(locale.includeFailed, subRelativePath));
        throw err;
      }
    }
  };
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.getPath" id="apidoc.element.docpad.file.prototype.getPath">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getPath
        <span class="apidocSignatureSpan">(relativePath, parentPath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getPath = function (relativePath, parentPath) {
  var path, relativeDirPath;
  if (/^\./.test(relativePath)) {
    relativeDirPath = this.get('relativeDirPath');
    path = pathUtil.join(relativeDirPath, relativePath);
  } else {
    if (parentPath) {
      path = pathUtil.join(parentPath, relativePath);
    } else {
      path = relativePath;
    }
  }
  return path;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
},
getDocument: function() {
  return this.documentModel;
},
getPath: function(path, parentPath) {
  var document;
  document = this.getDocument();
  path = document.<span class="apidocCodeKeywordSpan">getPath</span>(path, parentPath);
  return path;
},
getFiles: function(query, sorting, paging) {
  var result;
  this.referencesOthers();
  result = docpad.getFiles(query, sorting, paging);
  return result;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.getStat" id="apidoc.element.docpad.file.prototype.getStat">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>getStat
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getStat = function () {
  return this.stat;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        return res.send(content);
      }
    }
  });
} else {
  ctime = document.get('date');
  mtime = document.get('wtime');
  stat = document.<span class="apidocCodeKeywordSpan">getStat</span>();
  if (mtime &amp;&amp; stat) {
    etag = stat.size + '-' + Number(mtime);
  }
  if (etag) {
    res.setHeaderIfMissing('ETag', '"' + etag + '"');
  }
  if ((ctime != null ? ctime.toUTCString : void 0) != null) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.initialize" id="apidoc.element.docpad.file.prototype.initialize">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>initialize
        <span class="apidocSignatureSpan">(attrs, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function (attrs, opts) {
  var base, base1, base2, base3, base4, file, now;
  if (opts == null) {
    opts = {};
  }
  file = this;
  if (this.attributes == null) {
    this.attributes = {};
  }
  if ((base = this.attributes).extensions == null) {
    base.extensions = [];
  }
  if ((base1 = this.attributes).urls == null) {
    base1.urls = [];
  }
  now = new Date();
  if ((base2 = this.attributes).ctime == null) {
    base2.ctime = now;
  }
  if ((base3 = this.attributes).mtime == null) {
    base3.mtime = now;
  }
  if (this.id == null) {
    this.id = (base4 = this.attributes).id != null ? base4.id : base4.id = this.cid;
  }
  this.setOptions(opts);
  if ((this.rootOutDirPath != null) === false || (this.locale != null) === false) {
    throw new Error("Use docpad.createModel to create the file or document model");
  }
  this.actionRunnerInstance = new this.TaskGroup("file action runner").whenDone(function(err) {
    if (err) {
      return file.emit('error', err);
    }
  });
  this.emit('init');
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.isBinary" id="apidoc.element.docpad.file.prototype.isBinary">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>isBinary
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isBinary = function () {
  return this.get('encoding') === 'binary';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.isBufferOutdated" id="apidoc.element.docpad.file.prototype.isBufferOutdated">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>isBufferOutdated
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isBufferOutdated = function () {
  return (this.buffer != null) === false || this.bufferTime &lt; (this.get('mtime') || new Date());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return complete();
    });
  } else {
    return complete();
  }
});
tasks.addTask("Read the file and cache the result", function(complete) {
  if (fullPath &amp;&amp; opts.exists &amp;&amp; (opts.buffer != null) === false &amp;&amp; file.<span class="apidocCodeKeywordSpan
">isBufferOutdated</span>()) {
    return safefs.readFile(fullPath, function(err, buffer) {
      if (err) {
        return complete(err);
      }
      file.setBuffer(buffer);
      return complete();
    });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.isOption" id="apidoc.element.docpad.file.prototype.isOption">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>isOption
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isOption = function (key) {
  var names, result;
  names = ['detectEncoding', 'rootOutDirPath', 'locale', 'stat', 'data', 'buffer', 'meta', 'TaskGroup'];
  result = indexOf.call(names, key) &gt;= 0;
  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

FileModel.prototype.extractOptions = function(attrs) {
  var key, result, value;
  result = {};
  for (key in attrs) {
    if (!hasProp.call(attrs, key)) continue;
    value = attrs[key];
    if (this.<span class="apidocCodeKeywordSpan">isOption</span>(key)) {
      result[key] = value;
      delete attrs[key];
    }
  }
  return result;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.isText" id="apidoc.element.docpad.file.prototype.isText">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>isText
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isText = function () {
  return this.get('encoding') !== 'binary';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.klass" id="apidoc.element.docpad.file.prototype.klass">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>klass
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FileModel() {
  this.action = bind(this.action, this);
  return FileModel.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var attrs, clonedModel, opts;
  attrs = this.getAttributes();
  opts = this.getOptions();
  delete attrs.id;
  delete attrs.meta.id;
  delete opts.meta.id;
  delete opts.meta.attributes.id;
  clonedModel = new this.<span class="apidocCodeKeywordSpan">klass</span>(attrs, opts);
  this.emit('clone', clonedModel);
  return clonedModel;
};


/**
	 * The default attributes for any file model.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.load" id="apidoc.element.docpad.file.prototype.load">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>load
        <span class="apidocSignatureSpan">(opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">load = function (opts, next) {
  var file, filePath, fullPath, ref, tasks;
  if (opts == null) {
    opts = {};
  }
  ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];
  file = this;
  if (opts.exists == null) {
    opts.exists = null;
  }
  fullPath = this.get('fullPath');
  filePath = this.getFilePath({
    fullPath: fullPath
  });
  if (opts.exists != null) {
    file.set({
      exists: opts.exists
    });
  }
  if (opts.stat != null) {
    file.setStat(opts.stat);
  }
  if (opts.buffer != null) {
    file.setBuffer(opts.buffer);
  }
  tasks = new this.TaskGroup("load tasks for file: " + filePath, {
    next: next
  }).on('item.run', function(item) {
    return file.log("debug", (item.getConfig().name) + ": " + file.type + ": " + filePath);
  });
  tasks.addTask("Detect the file", function(complete) {
    if (fullPath &amp;&amp; opts.exists === null) {
      return safefs.exists(fullPath, function(exists) {
        opts.exists = exists;
        file.set({
          exists: opts.exists
        });
        return complete();
      });
    } else {
      return complete();
    }
  });
  tasks.addTask("Stat the file and cache the result", function(complete) {
    if (fullPath &amp;&amp; opts.exists &amp;&amp; (opts.stat != null) === false) {
      return safefs.stat(fullPath, function(err, fileStat) {
        if (err) {
          return complete(err);
        }
        file.setStat(fileStat);
        return complete();
      });
    } else {
      return complete();
    }
  });
  tasks.addTask("Read the file and cache the result", function(complete) {
    if (fullPath &amp;&amp; opts.exists &amp;&amp; (opts.buffer != null) === false &amp;&amp; file.isBufferOutdated()) {
      return safefs.readFile(fullPath, function(err, buffer) {
        if (err) {
          return complete(err);
        }
        file.setBuffer(buffer);
        return complete();
      });
    } else {
      return complete();
    }
  });
  tasks.addTask("Load -&gt; Parse", function(complete) {
    return file.parse(complete);
  });
  tasks.addTask("Parse -&gt; Normalize", function(complete) {
    return file.normalize(complete);
  });
  tasks.addTask("Normalize -&gt; Contextualize", function(complete) {
    return file.contextualize(complete);
  });
  tasks.run();
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Generally it is not necessary for an application
	 * to manually create a model via creatModel as DocPad
	 * will handle this process when watching a project's
	 * file and document directories. However, it is possible
	 * that a plugin might have a requirement to do so.
	 *
	 * 	model = @docpad.createModel({fullPath:fullPath})
    *   model.<span class="apidocCodeKeywordSpan">load</span>()
    *   @docpad.getDatabase().add(model)
	 *
	 * @method createModel
	 * @param {Object} [attrs={}]
	 * @param {String} attrs.fullPath the full path to the file
	 * @param {Object} [opts={}]
	 * @param {String} opts.modelType either 'file' or 'document'
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.normalize" id="apidoc.element.docpad.file.prototype.normalize">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>normalize
        <span class="apidocSignatureSpan">(opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">normalize = function (opts, next) {
  var _defaultUrl, basename, changes, contentType, ctime, date, err, extension, extensions, filename, fullDirPath, fullPath, locale
, meta, mtime, name, outBasename, outContentType, outDirPath, outExtension, outFilename, outPath, ref, relativeBase, relativeDirPath
, relativeOutBase, relativeOutDirPath, relativeOutPath, relativePath, rtime, slug, tags, url, wtime;
  if (opts == null) {
    opts = {};
  }
  ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];
  changes = {};
  meta = this.getMeta();
  locale = this.getLocale();
  filename = opts.filename || this.get('filename') || null;
  relativePath = opts.relativePath || this.get('relativePath') || null;
  fullPath = opts.fullPath || this.get('fullPath') || null;
  mtime = opts.mtime || this.get('mtime') || null;
  tags = opts.tags || meta.get('tags') || null;
  date = opts.date || meta.get('date') || null;
  name = opts.name || meta.get('name') || null;
  slug = opts.slug || meta.get('slug') || null;
  url = opts.url || meta.get('url') || null;
  contentType = opts.contentType || meta.get('contentType') || null;
  outContentType = opts.outContentType || meta.get('outContentType') || null;
  outFilename = opts.outFilename || meta.get('outFilename') || null;
  outExtension = opts.outExtension || meta.get('outExtension') || null;
  outPath = opts.outPath || meta.get('outPath') || null;
  extensions = null;
  extension = null;
  basename = null;
  outBasename = null;
  relativeOutPath = null;
  relativeDirPath = null;
  relativeOutDirPath = null;
  relativeBase = null;
  relativeOutBase = null;
  outDirPath = null;
  fullDirPath = null;
  changes.filename = filename = this.getFilename({
    filename: filename,
    relativePath: relativePath,
    fullPath: fullPath
  });
  if (!filename) {
    err = new Error(locale.filenameMissingError);
    return next(err);
  }
  if (!relativePath &amp;&amp; filename) {
    changes.relativePath = relativePath = filename;
  }
  changes.basename = basename = docpadUtil.getBasename(filename);
  changes.extensions = extensions = this.getExtensions({
    filename: filename
  });
  changes.extension = extension = docpadUtil.getExtension(extensions);
  if (fullPath) {
    changes.fullDirPath = fullDirPath = docpadUtil.getDirPath(fullPath);
  }
  changes.relativeDirPath = relativeDirPath = docpadUtil.getDirPath(relativePath);
  changes.relativeBase = relativeBase = relativeDirPath ? pathUtil.join(relativeDirPath, basename) : basename;
  if (!contentType) {
    changes.contentType = contentType = mime.lookup(fullPath || relativePath);
  }
  if (tags &amp;&amp; typeChecker.isArray(tags) === false) {
    changes.tags = tags = String(tags).split(/[\s,]+/);
  }
  if (!date) {
    changes.date = date = mtime || this.get('date') || new Date();
  }
  if (!outFilename &amp;&amp; !outPath) {
    changes.outFilename = outFilename = docpadUtil.getOutFilename(basename, outExtension || extensions.join('.'));
  }
  if (!outPath) {
    changes.outPath = outPath = this.rootOutDirPath ? pathUtil.resolve(this.rootOutDirPath, relativeDirPath, outFilename) : null
;
  }
  if (outPath) {
    changes.outFilename = outFilename = docpadUtil.getFilename(outPath);
  }
  changes.outDirPath = outDirPath = outPath ? docpadUtil.getDirPath(outPath) : null;
  changes.outBasename = outBasename = docpadUtil.getBasename(outFilename);
  changes.outExtension = outExtension = docpadUtil.getExtension(outFilename);
  changes.relativeOutPath = relativeOutPath = outPath ? outPath.replace(this.rootOutDirPath, '').replace(/^[\/\\]/, '') : pathUtil
.join(relativeDirPath, outFilename);
  changes.relativeOutDirPath = relativeOutDirPath = docpadUtil.getDirPath(relativeOutPath);
  changes.relativeOutBase = relativeOutBase = pathUtil.join(relativeOutDirPath, outBasename);
  if (!name) {
    changes.name = name = outFilename;
  }
  _defaultUrl = docpadUtil.getUrl(relativeOutPath);
  if (url) {
    this.setUrl(url);
    this.addUrl(_defaultUrl);
  } else {
    this.setUrl(_defaultUrl);
  }
  if (!outContentType &amp;&amp; contentType) {
    changes.outContentType = outContentType = mime. ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var child = new ctor, result = func.apply(child, args);
    return Object(result) === result ? result : child;
  })(this, args, function(){});
};

DocPad.require = function(relativePath) {
  var absolutePath;
  absolutePath = pathUtil.<span class="apidocCodeKeywordSpan">normalize</span>(pathUtil.join(__dirname, relativePath));
  if (absolutePath.replace(__dirname, '') === absolutePath) {
    throw new Error("docpad.require is limited to local docpad files only: " + relativePath);
  }
  return require(absolutePath);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.parse" id="apidoc.element.docpad.file.prototype.parse">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>parse
        <span class="apidocSignatureSpan">(opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (opts, next) {
  var buffer, changes, content, encoding, isText, ref, ref1, relativePath, source;
  if (opts == null) {
    opts = {};
  }
  ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];
  buffer = this.getBuffer();
  relativePath = this.get('relativePath');
  encoding = opts.encoding || this.get('encoding') || null;
  changes = {};
  if (buffer &amp;&amp; (encoding != null) === false || opts.reencode === true) {
    isText = isTextOrBinary.isTextSync(relativePath, buffer);
    if (isText === true) {
      if (this.detectEncoding) {
        if (jschardet == null) {
          jschardet = require('jschardet');
        }
        if (encoding == null) {
          encoding = (ref1 = jschardet.detect(buffer)) != null ? ref1.encoding : void 0;
        }
      }
      encoding || (encoding = 'utf8');
      if (docpadUtil.isStandardEncoding(encoding) === false) {
        buffer = this.encode({
          path: relativePath,
          to: 'utf8',
          from: encoding,
          content: buffer
        });
      }
      changes.encoding = encoding;
    } else {
      encoding = changes.encoding = 'binary';
    }
  }
  if (encoding === 'binary') {
    content = source = '';
    changes.content = content;
    changes.source = source;
  } else {
    if ((encoding != null) === false) {
      encoding = changes.encoding = 'utf8';
    }
    source = (buffer != null ? buffer.toString('utf8') : void 0) || '';
    content = source;
    changes.content = content;
    changes.source = source;
  }
  this.set(changes);
  next();
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return complete();
}
return safefs.readFile(config.databaseCachePath, function(err, data) {
  var addedModels, databaseData;
  if (err) {
    return complete(err);
  }
  databaseData = JSON.<span class="apidocCodeKeywordSpan">parse</span>(data.toString());
  opts.cache = true;
  opts.initial = true;
  opts.reset = false;
  opts.populate = true;
  opts.reload = true;
  opts.partial = true;
  lastGenerateStarted = new Date(databaseData.generateStarted);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.removeUrl" id="apidoc.element.docpad.file.prototype.removeUrl">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>removeUrl
        <span class="apidocSignatureSpan">(userUrl)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeUrl = function (userUrl) {
  var i, index, len, url, urls;
  urls = this.get('urls');
  for (index = i = 0, len = urls.length; i &lt; len; index = ++i) {
    url = urls[index];
    if (url === userUrl) {
      urls.splice(index, 1);
      break;
    }
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.render" id="apidoc.element.docpad.file.prototype.render">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>render
        <span class="apidocSignatureSpan">(opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">render = function (opts, next) {
  var file, ref;
  if (opts == null) {
    opts = {};
  }
  ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];
  file = this;
  file.attributes.rtime = new Date();
  next(null, file.getOutContent(), file);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.set" id="apidoc.element.docpad.file.prototype.set">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>set
        <span class="apidocSignatureSpan">(attrs, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">set = function (attrs, opts) {
  var newAttrs, options, ref;
  if (typeChecker.isString(attrs)) {
    newAttrs = {};
    newAttrs[attrs] = opts;
    return this.set(newAttrs, opts);
  }
  attrs = (ref = typeof attrs.toJSON === "function" ? attrs.toJSON() : void 0) != null ? ref : attrs;
  options = this.extractOptions(attrs);
  FileModel.__super__.set.call(this, attrs, opts);
  this.setOptions(options, opts);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    for (key in attrs) {
      if (!hasProp.call(attrs, key)) continue;
      value = attrs[key];
      if (this.get(key) === ((ref = this.defaults) != null ? ref[key] : void 0)) {
        set[key] = value;
      }
    }
    return this.<span class="apidocCodeKeywordSpan">set</span>(set, opts);
  };

  return Model;

})(queryEngine.Backbone.Model);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.setBuffer" id="apidoc.element.docpad.file.prototype.setBuffer">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>setBuffer
        <span class="apidocSignatureSpan">(buffer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setBuffer = function (buffer) {
  if (!Buffer.isBuffer(buffer)) {
    buffer = new Buffer(buffer);
  }
  this.bufferTime = this.get('mtime') || new Date();
  this.buffer = buffer;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  delete this.attributes.locale;
}
if (attrs.stat != null) {
  this.setStat(attrs.stat);
  delete this.attributes.stat;
}
if (attrs.data != null) {
  this.<span class="apidocCodeKeywordSpan">setBuffer</span>(attrs.data);
  delete this.attributes.data;
}
if (attrs.buffer != null) {
  this.setBuffer(attrs.buffer);
  delete this.attributes.buffer;
}
if (attrs.meta != null) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.setDefaults" id="apidoc.element.docpad.file.prototype.setDefaults">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>setDefaults
        <span class="apidocSignatureSpan">(attrs, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setDefaults = function (attrs, opts) {
  var options, ref;
  attrs = (ref = typeof attrs.toJSON === "function" ? attrs.toJSON() : void 0) != null ? ref : attrs;
  options = this.extractOptions(attrs);
  FileModel.__super__.setDefaults.call(this, attrs, opts);
  this.setOptions(options, opts);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 *		.setQuery('isPartial', {
	 *				$or:
	 *					isPartial: true
	 *					fullPath: $startsWith: config.partialsPath
	 *		})
	 *		.on('add', (model) -&gt;
	 *			docpad.log('debug', util.format(locale.addingPartial, model.getFilePath()))
	 *			model.<span class="apidocCodeKeywordSpan">setDefaults</span>(
	 *				isPartial: true
	 *				render: false
	 *				write: false
	 *			)
	 *		)
	 *	)
	 *
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.setMeta" id="apidoc.element.docpad.file.prototype.setMeta">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>setMeta
        <span class="apidocSignatureSpan">(attrs, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setMeta = function (attrs, opts) {
  var options, ref;
  attrs = (ref = typeof attrs.toJSON === "function" ? attrs.toJSON() : void 0) != null ? ref : attrs;
  options = this.extractOptions(attrs);
  this.getMeta().set(attrs, opts);
  this.set(attrs, opts);
  this.setOptions(options, opts);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      if (metaDataChanges.url) {
        _this.setUrl(metaDataChanges.url);
      }
      if (metaDataChanges.id != null) {
        _this.log('warn', util.format(locale.documentIdChangeError, filePath));
        delete metaDataChanges.id;
      }
      _this.<span class="apidocCodeKeywordSpan">setMeta</span>(metaDataChanges);
      return next();
    };
  })(this));
  return this;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.setMetaDefaults" id="apidoc.element.docpad.file.prototype.setMetaDefaults">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>setMetaDefaults
        <span class="apidocSignatureSpan">(attrs, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setMetaDefaults = function (attrs, opts) {
  var options, ref;
  attrs = (ref = typeof attrs.toJSON === "function" ? attrs.toJSON() : void 0) != null ? ref : attrs;
  options = this.extractOptions(attrs);
  this.getMeta().setDefaults(attrs, opts);
  this.setDefaults(attrs, opts);
  this.setOptions(options, opts);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.setOptions" id="apidoc.element.docpad.file.prototype.setOptions">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>setOptions
        <span class="apidocSignatureSpan">(attrs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setOptions = function (attrs) {
  if (attrs == null) {
    attrs = {};
  }
  if (attrs.TaskGroup != null) {
    this.TaskGroup = attrs.TaskGroup;
    delete this.attributes.TaskGroup;
  }
  if (attrs.detectEncoding != null) {
    this.rootOutDirPath = attrs.detectEncoding;
    delete this.attributes.detectEncoding;
  }
  if (attrs.rootOutDirPath != null) {
    this.rootOutDirPath = attrs.rootOutDirPath;
    delete this.attributes.rootOutDirPath;
  }
  if (attrs.locale != null) {
    this.locale = attrs.locale;
    delete this.attributes.locale;
  }
  if (attrs.stat != null) {
    this.setStat(attrs.stat);
    delete this.attributes.stat;
  }
  if (attrs.data != null) {
    this.setBuffer(attrs.data);
    delete this.attributes.data;
  }
  if (attrs.buffer != null) {
    this.setBuffer(attrs.buffer);
    delete this.attributes.buffer;
  }
  if (attrs.meta != null) {
    this.setMeta(attrs.meta);
    delete this.attributes.meta;
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    newAttrs = {};
    newAttrs[attrs] = opts;
    return this.set(newAttrs, opts);
  }
  attrs = (ref = typeof attrs.toJSON === "function" ? attrs.toJSON() : void 0) != null ? ref : attrs;
  options = this.extractOptions(attrs);
  FileModel.__super__.set.call(this, attrs, opts);
  this.<span class="apidocCodeKeywordSpan">setOptions</span>(options, opts);
  return this;
};


/**
	 * Set defaults. Apply default attributes
	 * and options to the file model
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.setStat" id="apidoc.element.docpad.file.prototype.setStat">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>setStat
        <span class="apidocSignatureSpan">(stat)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setStat = function (stat) {
  this.stat = stat;
  this.set({
    ctime: new Date(stat.ctime),
    mtime: new Date(stat.mtime)
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  fileCurrentStat.mtime = new Date();
}
file = docpad.addModel({
  fullPath: filePath,
  stat: fileCurrentStat
});
if (changeType === 'update') {
  file.<span class="apidocCodeKeywordSpan">setStat</span>(fileCurrentStat);
}
if (changeType === 'delete') {
  database.remove(file);
  return file.action('delete', function(err) {
    if (err) {
      return docpad.error(err);
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.setUrl" id="apidoc.element.docpad.file.prototype.setUrl">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>setUrl
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setUrl = function (url) {
  this.addUrl(url);
  this.set({
    url: url
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    delete metaDataChanges[key];
  }
}
if (metaDataChanges.urls) {
  _this.addUrl(metaDataChanges.urls);
}
if (metaDataChanges.url) {
  _this.<span class="apidocCodeKeywordSpan">setUrl</span>(metaDataChanges.url);
}
if (metaDataChanges.id != null) {
  _this.log('warn', util.format(locale.documentIdChangeError, filePath));
  delete metaDataChanges.id;
}
_this.setMeta(metaDataChanges);
return next();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.toJSON" id="apidoc.element.docpad.file.prototype.toJSON">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>toJSON
        <span class="apidocSignatureSpan">(dereference)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function (dereference) {
  var data;
  if (dereference == null) {
    dereference = false;
  }
  data = FileModel.__super__.toJSON.apply(this, arguments);
  data.meta = this.getMeta().toJSON();
  if (dereference === true) {
    data = extendr.dereference(data);
  }
  return data;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return next(err);
}
if (opts.content == null) {
  opts.content = file.get('body');
}
opts.templateData = extendr.clone(opts.templateData || {});
if ((base = opts.templateData).document == null) {
  base.document = file.<span class="apidocCodeKeywordSpan">toJSON</span>();
}
if ((base1 = opts.templateData).documentModel == null) {
  base1.documentModel = file;
}
ref1 = opts.templateData;
for (key in ref1) {
  if (!hasProp.call(ref1, key)) continue;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.write" id="apidoc.element.docpad.file.prototype.write">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>write
        <span class="apidocSignatureSpan">(opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">write = function (opts, next) {
  var file, locale, ref, ref1;
  ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];
  file = this;
  locale = this.getLocale();
  opts.path || (opts.path = file.get('outPath'));
  opts.encoding || (opts.encoding = file.get('encoding') || 'utf8');
  opts.content || (opts.content = file.getOutContent());
  opts.type || (opts.type = 'out file');
  if (!opts.path) {
    next();
    return this;
  }
  if ((ref1 = opts.encoding.toLowerCase()) !== 'ascii' &amp;&amp; ref1 !== 'utf8' &amp;&amp; ref1 !== 'utf-8' &amp;&amp; ref1 !== 'binary') {
    opts.content = this.encode({
      path: opts.path,
      to: opts.encoding,
      from: 'utf8',
      content: opts.content
    });
  }
  file.log('debug', util.format(locale.fileWrite, opts.type, opts.path, opts.encoding));
  safefs.writeFile(opts.path, opts.content, function(err) {
    if (err) {
      return next(err);
    }
    if (opts.type === 'out file') {
      file.attributes.wtime = new Date();
    }
    file.log('debug', util.format(locale.fileWrote, opts.type, opts.path, opts.encoding));
    return next();
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
].concat(process.argv.slice(2))

// Output the command we'll be running
console.log(command.join(' '))

// And spawn our command and let us know if any errors occur
require('safeps').spawn(command, {stdio:'inherit'}, function (err) {
	if (err)  process.stderr.<span class="apidocCodeKeywordSpan">write</span>(err)
})
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.file.prototype.writeSource" id="apidoc.element.docpad.file.prototype.writeSource">
        function <span class="apidocSignatureSpan">docpad.file.prototype.</span>writeSource
        <span class="apidocSignatureSpan">(opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeSource = function (opts, next) {
  var file, ref;
  ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];
  file = this;
  opts.path || (opts.path = file.get('fullPath'));
  opts.content || (opts.content = (file.getContent() || '').toString(''));
  opts.type || (opts.type = 'source file');
  this.write(opts, next);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






















</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.files" id="apidoc.module.docpad.files">module docpad.files</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.files.files" id="apidoc.element.docpad.files.files">
        function <span class="apidocSignatureSpan">docpad.</span>files
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FilesCollection() {
  return FilesCollection.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.files.extend" id="apidoc.element.docpad.files.extend">
        function <span class="apidocSignatureSpan">docpad.files.</span>extend
        <span class="apidocSignatureSpan">(protoProps, staticProps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extend = function (protoProps, staticProps) {
  var parent = this;
  var child;

  // The constructor function for the new subclass is either defined by you
  // (the "constructor" property in your `extend` definition), or defaulted
  // by us to simply call the parent constructor.
  if (protoProps &amp;&amp; _.has(protoProps, 'constructor')) {
    child = protoProps.constructor;
  } else {
    child = function(){ return parent.apply(this, arguments); };
  }

  // Add static properties to the constructor function, if supplied.
  _.extend(child, parent, staticProps);

  // Set the prototype chain to inherit from `parent`, without calling
  // `parent` constructor function.
  var Surrogate = function(){ this.constructor = child; };
  Surrogate.prototype = parent.prototype;
  child.prototype = new Surrogate;

  // Add prototype properties (instance properties) to the subclass,
  // if supplied.
  if (protoProps) _.extend(child.prototype, protoProps);

  // Set a convenience property in case the parent's prototype is needed
  // later.
  child.__super__ = parent.prototype;

  return child;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## v6.60.0 2014 January 16
- Added `etag`, `cache-control`, `last-modified`, `date`, and `charset` headers
	- Thanks to [Marcus Stong](https://github.com/stongo) for [issue #740](https://github.com/bevry/docpad/issues/740)


## v6.59.6 2013 December 20
- Non-CoffeeScript plugin testers can now rejoice, you can now easily extend the tester classes by using `TesterClass.<span class="apidocCodeKeywordSpan">extend</span>({})`
	- Thanks to the [extendonclass](https://github.com/bevry/extendonclass) module


## v6.59.5 2013 December 20
- Non-CoffeeScript plugin authors can now rejoice, you can now easily extend the `BasePlugin` class by using `var MyPlugin = BasePlugin
.extend({})`
	- Thanks to the [extendonclass](https://github.com/bevry/extendonclass) module
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.files.prototype" id="apidoc.module.docpad.files.prototype">module docpad.files.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.files.prototype.collection" id="apidoc.element.docpad.files.prototype.collection">
        function <span class="apidocSignatureSpan">docpad.files.prototype.</span>collection
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FilesCollection() {
  return FilesCollection.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.files.prototype.constructor" id="apidoc.element.docpad.files.prototype.constructor">
        function <span class="apidocSignatureSpan">docpad.files.prototype.</span>constructor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FilesCollection() {
  return FilesCollection.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.files.prototype.fuzzyFindOne" id="apidoc.element.docpad.files.prototype.fuzzyFindOne">
        function <span class="apidocSignatureSpan">docpad.files.prototype.</span>fuzzyFindOne
        <span class="apidocSignatureSpan">(data, sorting, paging)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fuzzyFindOne = function (data, sorting, paging) {
  var escapedData, file, i, len, queries, query;
  escapedData = data != null ? data.replace(/[\/]/g, pathUtil.sep) : void 0;
  queries = [
    {
      relativePath: escapedData
    }, {
      relativeBase: escapedData
    }, {
      url: data
    }, {
      relativePath: {
        $startsWith: escapedData
      }
    }, {
      fullPath: {
        $startsWith: escapedData
      }
    }, {
      url: {
        $startsWith: data
      }
    }
  ];
  for (i = 0, len = queries.length; i &lt; len; i++) {
    query = queries[i];
    file = this.findOne(query, sorting, paging);
    if (file) {
      return file;
    }
  }
  return null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @param {Object} sorting
	 * @param {Object} paging
	 * @return {Object} a file
 */

DocPad.prototype.getFileAtPath = function(path, sorting, paging) {
  var file;
  file = this.getDatabase().<span class="apidocCodeKeywordSpan">fuzzyFindOne</span>(path, sorting, paging);
  return file;
};


/**
	 * Get a file by its url
	 * @method getFileByUrl
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.files.prototype.initialize" id="apidoc.element.docpad.files.prototype.initialize">
        function <span class="apidocSignatureSpan">docpad.files.prototype.</span>initialize
        <span class="apidocSignatureSpan">(attrs, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function (attrs, opts) {
  var base;
  if (opts == null) {
    opts = {};
  }
  if (this.options == null) {
    this.options = {};
  }
  if ((base = this.options).name == null) {
    base.name = opts.name || null;
  }
  return FilesCollection.__super__.initialize.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.files.prototype.model" id="apidoc.element.docpad.files.prototype.model">
        function <span class="apidocSignatureSpan">docpad.files.prototype.</span>model
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FileModel() {
  this.action = bind(this.action, this);
  return FileModel.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.meta" id="apidoc.module.docpad.meta">module docpad.meta</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.meta.meta" id="apidoc.element.docpad.meta.meta">
        function <span class="apidocSignatureSpan">docpad.</span>meta
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MetaCollection() {
  return MetaCollection.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.meta.extend" id="apidoc.element.docpad.meta.extend">
        function <span class="apidocSignatureSpan">docpad.meta.</span>extend
        <span class="apidocSignatureSpan">(protoProps, staticProps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extend = function (protoProps, staticProps) {
  var parent = this;
  var child;

  // The constructor function for the new subclass is either defined by you
  // (the "constructor" property in your `extend` definition), or defaulted
  // by us to simply call the parent constructor.
  if (protoProps &amp;&amp; _.has(protoProps, 'constructor')) {
    child = protoProps.constructor;
  } else {
    child = function(){ return parent.apply(this, arguments); };
  }

  // Add static properties to the constructor function, if supplied.
  _.extend(child, parent, staticProps);

  // Set the prototype chain to inherit from `parent`, without calling
  // `parent` constructor function.
  var Surrogate = function(){ this.constructor = child; };
  Surrogate.prototype = parent.prototype;
  child.prototype = new Surrogate;

  // Add prototype properties (instance properties) to the subclass,
  // if supplied.
  if (protoProps) _.extend(child.prototype, protoProps);

  // Set a convenience property in case the parent's prototype is needed
  // later.
  child.__super__ = parent.prototype;

  return child;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## v6.60.0 2014 January 16
- Added `etag`, `cache-control`, `last-modified`, `date`, and `charset` headers
	- Thanks to [Marcus Stong](https://github.com/stongo) for [issue #740](https://github.com/bevry/docpad/issues/740)


## v6.59.6 2013 December 20
- Non-CoffeeScript plugin testers can now rejoice, you can now easily extend the tester classes by using `TesterClass.<span class="apidocCodeKeywordSpan">extend</span>({})`
	- Thanks to the [extendonclass](https://github.com/bevry/extendonclass) module


## v6.59.5 2013 December 20
- Non-CoffeeScript plugin authors can now rejoice, you can now easily extend the `BasePlugin` class by using `var MyPlugin = BasePlugin
.extend({})`
	- Thanks to the [extendonclass](https://github.com/bevry/extendonclass) module
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.meta.prototype" id="apidoc.module.docpad.meta.prototype">module docpad.meta.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.meta.prototype.constructor" id="apidoc.element.docpad.meta.prototype.constructor">
        function <span class="apidocSignatureSpan">docpad.meta.prototype.</span>constructor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MetaCollection() {
  return MetaCollection.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.plugin" id="apidoc.module.docpad.plugin">module docpad.plugin</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.plugin.plugin" id="apidoc.element.docpad.plugin.plugin">
        function <span class="apidocSignatureSpan">docpad.</span>plugin
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BasePlugin(opts) {
  this.getConfig = bind(this.getConfig, this);
  this.setConfig = bind(this.setConfig, this);
  var config, docpad, me;
  me = this;
  docpad = opts.docpad, config = opts.config;
  this.docpad = docpad;
  this.bindListeners();
  this.config = extendr.deepClone(this.config);
  this.instanceConfig = extendr.deepClone(this.instanceConfig);
  this.initialConfig = this.config;
  this.setConfig(config);
  if (this.isEnabled() === false) {
    return this;
  }
  this.addListeners();
  this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.plugin.extend" id="apidoc.element.docpad.plugin.extend">
        function <span class="apidocSignatureSpan">docpad.plugin.</span>extend
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extend = function () {
  var key, newKlass, oldKlass, proto, value;
  if (arguments.length === 2) {
    oldKlass = arguments[0];
    proto = arguments[1];
  } else {
    oldKlass = this;
    proto = arguments[0];
  }
  newKlass = (function(superClass) {
    extend(_Class, superClass);

    function _Class() {
      if (proto != null ? proto.hasOwnProperty('constructor') : void 0) {
        proto.constructor.apply(this, arguments);
      } else {
        _Class.__super__.constructor.apply(this, arguments);
      }
    }

    return _Class;

  })(oldKlass);
  if (proto != null) {
    for (key in proto) {
      if (!hasProp.call(proto, key)) continue;
      value = proto[key];
      newKlass.prototype[key] = value;
    }
  }
  return newKlass;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## v6.60.0 2014 January 16
- Added `etag`, `cache-control`, `last-modified`, `date`, and `charset` headers
	- Thanks to [Marcus Stong](https://github.com/stongo) for [issue #740](https://github.com/bevry/docpad/issues/740)


## v6.59.6 2013 December 20
- Non-CoffeeScript plugin testers can now rejoice, you can now easily extend the tester classes by using `TesterClass.<span class="apidocCodeKeywordSpan">extend</span>({})`
	- Thanks to the [extendonclass](https://github.com/bevry/extendonclass) module


## v6.59.5 2013 December 20
- Non-CoffeeScript plugin authors can now rejoice, you can now easily extend the `BasePlugin` class by using `var MyPlugin = BasePlugin
.extend({})`
	- Thanks to the [extendonclass](https://github.com/bevry/extendonclass) module
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.plugin.prototype" id="apidoc.module.docpad.plugin.prototype">module docpad.plugin.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.plugin.prototype.addListeners" id="apidoc.element.docpad.plugin.prototype.addListeners">
        function <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>addListeners
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addListeners = function () {
  var docpad, events, pluginInstance;
  pluginInstance = this;
  docpad = this.docpad;
  events = docpad.getEvents();
  eachr(events, function(eventName) {
    var eventHandler, eventHandlerPriority;
    eventHandler = pluginInstance[eventName];
    if (typeChecker.isFunction(eventHandler)) {
      eventHandlerPriority = pluginInstance[eventName + 'Priority'] || pluginInstance.priority || null;
      if (eventHandler.priority == null) {
        eventHandler.priority = eventHandlerPriority;
      }
      eventHandler.name = pluginInstance.name + ": {eventName}";
      if (eventHandler.priority != null) {
        eventHandler.name += "(priority eventHandler.priority})";
      }
      return docpad.off(eventName, eventHandler).on(eventName, eventHandler);
    }
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.config = extendr.deepClone(this.config);
  this.instanceConfig = extendr.deepClone(this.instanceConfig);
  this.initialConfig = this.config;
  this.setConfig(config);
  if (this.isEnabled() === false) {
    return this;
  }
  this.<span class="apidocCodeKeywordSpan">addListeners</span>();
  this;
}


/**
	 * Set Instance Configuration
	 * @private
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.plugin.prototype.bindEvents" id="apidoc.element.docpad.plugin.prototype.bindEvents">
        function <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>bindEvents
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bindEvents = function () {
  return this.addListeners();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.plugin.prototype.bindListeners" id="apidoc.element.docpad.plugin.prototype.bindListeners">
        function <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>bindListeners
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bindListeners = function () {
  var docpad, events, pluginInstance;
  pluginInstance = this;
  docpad = this.docpad;
  events = docpad.getEvents();
  eachr(events, function(eventName) {
    var eventHandler;
    eventHandler = pluginInstance[eventName];
    if (typeChecker.isFunction(eventHandler)) {
      return pluginInstance[eventName] = eventHandler.bind(pluginInstance);
    }
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  function BasePlugin(opts) {
this.getConfig = bind(this.getConfig, this);
this.setConfig = bind(this.setConfig, this);
var config, docpad, me;
me = this;
docpad = opts.docpad, config = opts.config;
this.docpad = docpad;
this.<span class="apidocCodeKeywordSpan">bindListeners</span>();
this.config = extendr.deepClone(this.config);
this.instanceConfig = extendr.deepClone(this.instanceConfig);
this.initialConfig = this.config;
this.setConfig(config);
if (this.isEnabled() === false) {
  return this;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.plugin.prototype.destroy" id="apidoc.element.docpad.plugin.prototype.destroy">
        function <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>destroy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function () {
  this.removeListeners();
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Destructor. Destroy the DocPad database
	 * @private
	 * @method destroyDatabase
 */

DocPad.prototype.destroyDatabase = function() {
  if (this.database != null) {
    this.database.<span class="apidocCodeKeywordSpan">destroy</span>();
    this.database = null;
  }
  if (this.databaseTempCache != null) {
    this.databaseTempCache.destroy();
    this.databaseTempCache = null;
  }
  return this;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.plugin.prototype.getConfig" id="apidoc.element.docpad.plugin.prototype.getConfig">
        function <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>getConfig
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getConfig = function () {
  return this.config;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## v6.0.10 2012 June 22
- Fixed CLI on certain setups


## v6.0.9 2012 June 22
- Many minor fixes and improvements
- Available DocPad events are now exposed through `docpadInstance.getEvents()`
- DocPad configuration is now exposed through `docpadInstance.<span class="apidocCodeKeywordSpan">getConfig</span>()`
- Removed `DocPad::getActionArgs` in favor of `balUtil.extractOptsAndCallback`
- Configuration events now have a context that persists and do not pile up if configuration is reloaded
- DocPad constructor now returns `err` and `docpadInstance` to the completion callback if it exists
- Fixed a problem with grouped actions not completing under some circumstances
- Will now watch configuration files for changes, if a change is detected, regenerate everything
- Cleaned up the server action a bit
- Added a new `serverExtend` event so listeners can now extend the server before the docpad routes are applied
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.plugin.prototype.isEnabled" id="apidoc.element.docpad.plugin.prototype.isEnabled">
        function <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>isEnabled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isEnabled = function () {
  return this.config.enabled !== false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  docpad = opts.docpad, config = opts.config;
  this.docpad = docpad;
  this.bindListeners();
  this.config = extendr.deepClone(this.config);
  this.instanceConfig = extendr.deepClone(this.instanceConfig);
  this.initialConfig = this.config;
  this.setConfig(config);
  if (this.<span class="apidocCodeKeywordSpan">isEnabled</span>() === false) {
    return this;
  }
  this.addListeners();
  this;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.plugin.prototype.removeListeners" id="apidoc.element.docpad.plugin.prototype.removeListeners">
        function <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>removeListeners
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeListeners = function () {
  var docpad, events, pluginInstance;
  pluginInstance = this;
  docpad = this.docpad;
  events = docpad.getEvents();
  eachr(events, function(eventName) {
    var eventHandler;
    eventHandler = pluginInstance[eventName];
    if (typeChecker.isFunction(eventHandler)) {
      return docpad.off(eventName, eventHandler);
    }
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (instanceConfig) {
    this.setInstanceConfig(instanceConfig);
  }
  configPackages = [this.initialConfig, userConfig, this.instanceConfig];
  configsToMerge = [this.config];
  docpad.mergeConfigurations(configPackages, configsToMerge);
  if (!this.isEnabled()) {
    this.<span class="apidocCodeKeywordSpan">removeListeners</span>();
  }
  return this;
};


/**
	 * Get the Configuration
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.plugin.prototype.setConfig" id="apidoc.element.docpad.plugin.prototype.setConfig">
        function <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>setConfig
        <span class="apidocSignatureSpan">(instanceConfig)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setConfig = function (instanceConfig) {
  var configPackages, configsToMerge, docpad, userConfig;
  if (instanceConfig == null) {
    instanceConfig = null;
  }
  docpad = this.docpad;
  userConfig = this.docpad.config.plugins[this.name];
  this.config = this.docpad.config.plugins[this.name] = {};
  if (instanceConfig) {
    this.setInstanceConfig(instanceConfig);
  }
  configPackages = [this.initialConfig, userConfig, this.instanceConfig];
  configsToMerge = [this.config];
  docpad.mergeConfigurations(configPackages, configsToMerge);
  if (!this.isEnabled()) {
    this.removeListeners();
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */

DocPad.prototype.setLoggers = function(loggers) {
  if (this.loggerInstances) {
    this.warn(this.getLocale().loggersAlreadyDefined);
  } else {
    this.loggerInstances = loggers;
    this.loggerInstances.logger.<span class="apidocCodeKeywordSpan">setConfig</span>({
      dry: true
    });
    this.loggerInstances.console.setConfig({
      dry: false
    }).pipe(process.stdout);
  }
  return loggers;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.plugin.prototype.setInstanceConfig" id="apidoc.element.docpad.plugin.prototype.setInstanceConfig">
        function <span class="apidocSignatureSpan">docpad.plugin.prototype.</span>setInstanceConfig
        <span class="apidocSignatureSpan">(instanceConfig)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setInstanceConfig = function (instanceConfig) {
  if (instanceConfig) {
    extendr.safeDeepExtendPlainObjects(this.instanceConfig, instanceConfig);
    if (this.config) {
      extendr.safeDeepExtendPlainObjects(this.config, instanceConfig);
    }
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  DocPad.prototype.setConfig = function(instanceConfig, next) {
var configPackages, configsToMerge, docpad, i, j, k, key, l, len, len1, len2, len3, locale, postTasks, ref2, ref3, ref4, type, typePath
, typePaths;
ref2 = extractOptsAndCallback(instanceConfig, next), instanceConfig = ref2[0], next = ref2[1];
docpad = this;
locale = this.getLocale();
if (instanceConfig) {
  this.<span class="apidocCodeKeywordSpan">setInstanceConfig</span>(instanceConfig);
}
this.config.env = this.instanceConfig.env || this.websiteConfig.env || this.initialConfig.env || process.env.NODE_ENV;
configPackages = [this.initialConfig, this.userConfig, this.websiteConfig, this.instanceConfig];
configsToMerge = [this.config];
docpad.mergeConfigurations(configPackages, configsToMerge);
this.setServer(extendr.safeShallowExtendPlainObjects({
  serverHttp: this.config.serverHttp,
...</pre></li>
    </ul>












</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.plugin_loader" id="apidoc.module.docpad.plugin_loader">module docpad.plugin_loader</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.plugin_loader.plugin_loader" id="apidoc.element.docpad.plugin_loader.plugin_loader">
        function <span class="apidocSignatureSpan">docpad.</span>plugin_loader
        <span class="apidocSignatureSpan">(arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PluginLoader(arg) {
  var docpad;
  this.docpad = arg.docpad, this.dirPath = arg.dirPath, this.BasePlugin = arg.BasePlugin;
  docpad = this.docpad;
  this.pluginName = pathUtil.basename(this.dirPath).replace(/^docpad-plugin-/, '');
  this.pluginClass = {};
  this.packageData = {};
  this.nodeModulesPath = pathUtil.resolve(this.dirPath, 'node_modules');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.plugin_loader.prototype" id="apidoc.module.docpad.plugin_loader.prototype">module docpad.plugin_loader.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.plugin_loader.prototype.create" id="apidoc.element.docpad.plugin_loader.prototype.create">
        function <span class="apidocSignatureSpan">docpad.plugin_loader.prototype.</span>create
        <span class="apidocSignatureSpan">(config, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (config, next) {
  var docpad, err, pluginInstance;
  try {
    docpad = this.docpad;
    pluginInstance = new this.pluginClass({
      docpad: docpad,
      config: config
    });
  } catch (error) {
    err = error;
    return next(err, null);
  }
  return next(null, pluginInstance);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      args = [opts, next];
      return ambi.apply(null, [eventHandler.bind(configEventContext)].concat(slice.call(args)));
    } else {
      return next();
    }
  });
});
this.actionRunnerInstance = this.TaskGroup.<span class="apidocCodeKeywordSpan">create</span>('action runner').whenDone
(function(err) {
  if (err) {
    return docpad.error(err);
  }
});
this.trackRunnerInstance = this.TaskGroup.create('track runner').whenDone(function(err) {
  var locale;
  if (err &amp;&amp; docpad.getDebugging()) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.plugin_loader.prototype.exists" id="apidoc.element.docpad.plugin_loader.prototype.exists">
        function <span class="apidocSignatureSpan">docpad.plugin_loader.prototype.</span>exists
        <span class="apidocSignatureSpan">(next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exists = function (next) {
  var failure, packagePath, success;
  packagePath = this.packagePath || pathUtil.resolve(this.dirPath, "package.json");
  failure = function(err) {
    if (err == null) {
      err = null;
    }
    return next(err, false);
  };
  success = function() {
    return next(null, true);
  };
  safefs.exists(packagePath, (function(_this) {
    return function(exists) {
      if (!exists) {
        return failure();
      }
      _this.packagePath = packagePath;
      return safefs.readFile(packagePath, function(err, data) {
        var pluginPath, pluginVersion;
        if (err) {
          return failure(err);
        }
        try {
          _this.packageData = JSON.parse(data.toString());
        } catch (error) {
          err = error;
          return failure(err);
        } finally {
          if (!_this.packageData) {
            return failure();
          }
        }
        pluginVersion = _this.packageData.version;
        pluginPath = _this.packageData.main &amp;&amp; pathUtil.join(_this.dirPath, _this.packageData.main);
        if (!pluginVersion) {
          return failure();
        }
        if (!pluginPath) {
          return failure();
        }
        _this.pluginVersion = pluginVersion;
        _this.pluginPath = pluginPath;
        return success();
      });
    };
  })(this));
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return function(complete) {
  return safeps.getHomePath(function(err, homePath) {
    var dropboxPath;
    if (err) {
      return complete(err);
    }
    dropboxPath = pathUtil.resolve(homePath, 'Dropbox');
    return safefs.<span class="apidocCodeKeywordSpan">exists</span>(dropboxPath, function(dropboxPathExists) {
      var userConfigDirPath;
      userConfigDirPath = dropboxPathExists ? dropboxPath : homePath;
      _this.userConfigPath = pathUtil.resolve(userConfigDirPath, _this.userConfigPath);
      return complete();
    });
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.plugin_loader.prototype.install" id="apidoc.element.docpad.plugin_loader.prototype.install">
        function <span class="apidocSignatureSpan">docpad.plugin_loader.prototype.</span>install
        <span class="apidocSignatureSpan">(next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">install = function (next) {
  var docpad;
  docpad = this.docpad;
  if (this.packagePath) {
    docpad.initNodeModules({
      path: this.dirPath,
      next: function(err, results) {
        return next(err);
      }
    });
  } else {
    next();
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (opts.destinationPath == null) {
    opts.destinationPath = this.getConfig().rootPath;
  }
  docpad.initSkeleton(skeletonModel, opts, function(err) {
    if (err) {
      return next(err);
    }
    return docpad.<span class="apidocCodeKeywordSpan">install</span>(opts, next);
  });
  return this;
};


/**
	 * Use a Skeleton
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.plugin_loader.prototype.load" id="apidoc.element.docpad.plugin_loader.prototype.load">
        function <span class="apidocSignatureSpan">docpad.plugin_loader.prototype.</span>load
        <span class="apidocSignatureSpan">(next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">load = function (next) {
  var base, docpad, err, locale, pluginPrototypeName, ref, ref1, ref2, validPluginName;
  docpad = this.docpad;
  locale = docpad.getLocale();
  if (pathUtil.extname(this.pluginPath) === '.coffee') {
    if (!(this.packageData["private"] === true &amp;&amp; docpad.getConfig().warnUncompiledPrivatePlugins === false)) {
      docpad.warn(util.format(locale.pluginUncompiled, this.pluginName, ((ref = this.packageData.bugs) != null ? ref.url : void
0) || locale.pluginIssueTracker));
    }
    try {
      require('coffee-script/register');
    } catch (error) {
      err = error;
      err.context = util.format(locale.pluginUncompiledFailed, this.pluginName, ((ref1 = this.packageData.bugs) != null ? ref1.url
 : void 0) || locale.pluginIssueTracker);
      return next(err);
      this;
    }
  }
  try {
    this.pluginClass = require(this.pluginPath)(this.BasePlugin);
  } catch (error) {
    err = error;
    err.context = util.format(locale.pluginLoadFailed, this.pluginName, ((ref2 = this.packageData.bugs) != null ? ref2.url : void
 0) || locale.pluginIssueTracker);
    return next(err);
    this;
  }
  if ((base = this.pluginClass.prototype).version == null) {
    base.version = this.pluginVersion;
  }
  pluginPrototypeName = this.pluginClass.prototype.name;
  if (/^[a-z0-9]+$/.test(this.pluginName) === false) {
    validPluginName = this.pluginName.replace(/[^a-z0-9]/, '');
    docpad.warn(util.format(locale.pluginNamingConventionInvalid, this.pluginName, validPluginName));
  }
  if (pluginPrototypeName === null) {
    this.pluginClass.prototype.name = this.pluginName;
    docpad.warn(util.format(locale.pluginPrototypeNameUndefined, this.pluginName));
  } else if (pluginPrototypeName !== this.pluginName) {
    docpad.warn(util.format(locale.pluginPrototypeNameDifferent, this.pluginName, pluginPrototypeName));
  }
  next(null, this.pluginClass);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Generally it is not necessary for an application
	 * to manually create a model via creatModel as DocPad
	 * will handle this process when watching a project's
	 * file and document directories. However, it is possible
	 * that a plugin might have a requirement to do so.
	 *
	 * 	model = @docpad.createModel({fullPath:fullPath})
    *   model.<span class="apidocCodeKeywordSpan">load</span>()
    *   @docpad.getDatabase().add(model)
	 *
	 * @method createModel
	 * @param {Object} [attrs={}]
	 * @param {String} attrs.fullPath the full path to the file
	 * @param {Object} [opts={}]
	 * @param {String} opts.modelType either 'file' or 'document'
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.plugin_loader.prototype.unsupported" id="apidoc.element.docpad.plugin_loader.prototype.unsupported">
        function <span class="apidocSignatureSpan">docpad.plugin_loader.prototype.</span>unsupported
        <span class="apidocSignatureSpan">(next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unsupported = function (next) {
  var docpad, engines, keywords, peerDependencies, platforms, ref, unsupported, version;
  docpad = this.docpad;
  version = this.packageData.version;
  keywords = this.packageData.keywords || [];
  platforms = this.packageData.platforms || [];
  engines = this.packageData.engines || {};
  peerDependencies = this.packageData.peerDependencies || {};
  unsupported = indexOf.call(keywords, 'docpad-plugin') &lt; 0 ? 'type' : version &amp;&amp; !semver.satisfies(version, docpad.pluginVersion
) ? 'version-plugin' : platforms.length &amp;&amp; (ref = process.platform, indexOf.call(platforms, ref) &lt; 0) ? 'platform' : (engines.node
 != null) &amp;&amp; !semver.satisfies(process.version, engines.node) ? 'engine-node' : (engines.docpad != null) &amp;&amp; !semver.satisfies(docpad
.getVersion(), engines.docpad) ? 'version-docpad' : (peerDependencies.docpad != null) &amp;&amp; !semver.satisfies(docpad.getVersion(),
peerDependencies.docpad) ? 'version-docpad' : false;
  next(null, unsupported);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return next();
} else {
  docpad.log('debug', util.format(locale.pluginLoading, pluginName));
  loader.exists(function(err, exists) {
    if (err || !exists) {
      return next(err);
    }
    return loader.<span class="apidocCodeKeywordSpan">unsupported</span>(function(err, unsupported) {
      if (err) {
        return next(err);
      }
      if (unsupported) {
        if ((unsupported === 'version-docpad' || unsupported === 'version-plugin') &amp;&amp; config.skipUnsupportedPlugins
 === false) {
          docpad.log('warn', util.format(locale.pluginContinued, pluginName));
        } else {
...</pre></li>
    </ul>






















</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.scripts" id="apidoc.module.docpad.scripts">module docpad.scripts</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.scripts.scripts" id="apidoc.element.docpad.scripts.scripts">
        function <span class="apidocSignatureSpan">docpad.</span>scripts
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ScriptsCollection() {
  return ScriptsCollection.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.scripts.extend" id="apidoc.element.docpad.scripts.extend">
        function <span class="apidocSignatureSpan">docpad.scripts.</span>extend
        <span class="apidocSignatureSpan">(protoProps, staticProps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extend = function (protoProps, staticProps) {
  var parent = this;
  var child;

  // The constructor function for the new subclass is either defined by you
  // (the "constructor" property in your `extend` definition), or defaulted
  // by us to simply call the parent constructor.
  if (protoProps &amp;&amp; _.has(protoProps, 'constructor')) {
    child = protoProps.constructor;
  } else {
    child = function(){ return parent.apply(this, arguments); };
  }

  // Add static properties to the constructor function, if supplied.
  _.extend(child, parent, staticProps);

  // Set the prototype chain to inherit from `parent`, without calling
  // `parent` constructor function.
  var Surrogate = function(){ this.constructor = child; };
  Surrogate.prototype = parent.prototype;
  child.prototype = new Surrogate;

  // Add prototype properties (instance properties) to the subclass,
  // if supplied.
  if (protoProps) _.extend(child.prototype, protoProps);

  // Set a convenience property in case the parent's prototype is needed
  // later.
  child.__super__ = parent.prototype;

  return child;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## v6.60.0 2014 January 16
- Added `etag`, `cache-control`, `last-modified`, `date`, and `charset` headers
	- Thanks to [Marcus Stong](https://github.com/stongo) for [issue #740](https://github.com/bevry/docpad/issues/740)


## v6.59.6 2013 December 20
- Non-CoffeeScript plugin testers can now rejoice, you can now easily extend the tester classes by using `TesterClass.<span class="apidocCodeKeywordSpan">extend</span>({})`
	- Thanks to the [extendonclass](https://github.com/bevry/extendonclass) module


## v6.59.5 2013 December 20
- Non-CoffeeScript plugin authors can now rejoice, you can now easily extend the `BasePlugin` class by using `var MyPlugin = BasePlugin
.extend({})`
	- Thanks to the [extendonclass](https://github.com/bevry/extendonclass) module
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.scripts.prototype" id="apidoc.module.docpad.scripts.prototype">module docpad.scripts.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.scripts.prototype.add" id="apidoc.element.docpad.scripts.prototype.add">
        function <span class="apidocSignatureSpan">docpad.scripts.prototype.</span>add
        <span class="apidocSignatureSpan">(values, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">add = function (values, opts) {
  var i, key, len, value;
  opts || (opts = {});
  if (opts.defer == null) {
    opts.defer = true;
  }
  if (opts.async == null) {
    opts.async = false;
  }
  opts.attrs || (opts.attrs = '');
  if (typeChecker.isArray(values)) {
    values = values.slice();
  } else if (values) {
    values = [values];
  } else {
    values = [];
  }
  if (opts.defer) {
    opts.attrs += "defer=\"defer\" ";
  }
  if (opts.async) {
    opts.attrs += "async=\"async\" ";
  }
  for (key = i = 0, len = values.length; i &lt; len; key = ++i) {
    value = values[key];
    if (typeChecker.isString(value)) {
      if (value[0] === '&lt;') {
        continue;
      } else if (value.indexOf(' ') === -1) {
        values[key] = "&lt;script " + opts.attrs + " src=\"" + value + "\"&gt;&lt;/script&gt;";
      } else {
        values[key] = "&lt;script " + opts.attrs + "&gt;" + value + "&lt;/script&gt;";
      }
    }
  }
  return ScriptsCollection.__super__.add.call(this, values, opts);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
    if (skeleton.name == null) {
      skeleton.name = skeletonKey;
    }
    if (skeleton.position == null) {
      skeleton.position = index;
    }
    docpad.skeletonsCollection.<span class="apidocCodeKeywordSpan">add</span>(new Model(skeleton));
    return ++index;
  });
}
docpad.skeletonsCollection.add(new Model({
  id: 'none',
  name: locale.skeletonNoneName,
  description: locale.skeletonNoneDescription,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.scripts.prototype.constructor" id="apidoc.element.docpad.scripts.prototype.constructor">
        function <span class="apidocSignatureSpan">docpad.scripts.prototype.</span>constructor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ScriptsCollection() {
  return ScriptsCollection.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.styles" id="apidoc.module.docpad.styles">module docpad.styles</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.styles.styles" id="apidoc.element.docpad.styles.styles">
        function <span class="apidocSignatureSpan">docpad.</span>styles
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StylesCollection() {
  return StylesCollection.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.styles.extend" id="apidoc.element.docpad.styles.extend">
        function <span class="apidocSignatureSpan">docpad.styles.</span>extend
        <span class="apidocSignatureSpan">(protoProps, staticProps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extend = function (protoProps, staticProps) {
  var parent = this;
  var child;

  // The constructor function for the new subclass is either defined by you
  // (the "constructor" property in your `extend` definition), or defaulted
  // by us to simply call the parent constructor.
  if (protoProps &amp;&amp; _.has(protoProps, 'constructor')) {
    child = protoProps.constructor;
  } else {
    child = function(){ return parent.apply(this, arguments); };
  }

  // Add static properties to the constructor function, if supplied.
  _.extend(child, parent, staticProps);

  // Set the prototype chain to inherit from `parent`, without calling
  // `parent` constructor function.
  var Surrogate = function(){ this.constructor = child; };
  Surrogate.prototype = parent.prototype;
  child.prototype = new Surrogate;

  // Add prototype properties (instance properties) to the subclass,
  // if supplied.
  if (protoProps) _.extend(child.prototype, protoProps);

  // Set a convenience property in case the parent's prototype is needed
  // later.
  child.__super__ = parent.prototype;

  return child;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## v6.60.0 2014 January 16
- Added `etag`, `cache-control`, `last-modified`, `date`, and `charset` headers
	- Thanks to [Marcus Stong](https://github.com/stongo) for [issue #740](https://github.com/bevry/docpad/issues/740)


## v6.59.6 2013 December 20
- Non-CoffeeScript plugin testers can now rejoice, you can now easily extend the tester classes by using `TesterClass.<span class="apidocCodeKeywordSpan">extend</span>({})`
	- Thanks to the [extendonclass](https://github.com/bevry/extendonclass) module


## v6.59.5 2013 December 20
- Non-CoffeeScript plugin authors can now rejoice, you can now easily extend the `BasePlugin` class by using `var MyPlugin = BasePlugin
.extend({})`
	- Thanks to the [extendonclass](https://github.com/bevry/extendonclass) module
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.styles.prototype" id="apidoc.module.docpad.styles.prototype">module docpad.styles.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.styles.prototype.add" id="apidoc.element.docpad.styles.prototype.add">
        function <span class="apidocSignatureSpan">docpad.styles.prototype.</span>add
        <span class="apidocSignatureSpan">(values, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">add = function (values, opts) {
  var i, key, len, value;
  opts || (opts = {});
  opts.attrs || (opts.attrs = '');
  if (typeChecker.isArray(values)) {
    values = values.slice();
  } else if (values) {
    values = [values];
  } else {
    values = [];
  }
  for (key = i = 0, len = values.length; i &lt; len; key = ++i) {
    value = values[key];
    if (typeChecker.isString(value)) {
      if (value[0] === '&lt;') {
        continue;
      } else if (value.indexOf(' ') === -1) {
        values[key] = "&lt;link " + opts.attrs + " rel=\"stylesheet\" href=\"" + value + "\" /&gt;";
      } else {
        values[key] = "&lt;style " + opts.attrs + "&gt;" + value + "&lt;/style&gt;";
      }
    }
  }
  return StylesCollection.__super__.add.call(this, values, opts);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
    if (skeleton.name == null) {
      skeleton.name = skeletonKey;
    }
    if (skeleton.position == null) {
      skeleton.position = index;
    }
    docpad.skeletonsCollection.<span class="apidocCodeKeywordSpan">add</span>(new Model(skeleton));
    return ++index;
  });
}
docpad.skeletonsCollection.add(new Model({
  id: 'none',
  name: locale.skeletonNoneName,
  description: locale.skeletonNoneDescription,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.styles.prototype.constructor" id="apidoc.element.docpad.styles.prototype.constructor">
        function <span class="apidocSignatureSpan">docpad.styles.prototype.</span>constructor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StylesCollection() {
  return StylesCollection.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.docpad.util" id="apidoc.module.docpad.util">module docpad.util</a></h1>


    <h2>
        <a href="#apidoc.element.docpad.util.action" id="apidoc.element.docpad.util.action">
        function <span class="apidocSignatureSpan">docpad.util.</span>action
        <span class="apidocSignatureSpan">(action, opts, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">action = function (action, opts, next) {
  var actionMethod, actionTaskOrGroup, actions, err, i, len, locale, me, ref1, ref2, ref3, run, runner, runnerTask, task;
  ref1 = extractOptsAndCallback(opts, next), opts = ref1[0], next = ref1[1];
  me = this;
  locale = me.getLocale();
  run = (ref2 = opts.run) != null ? ref2 : true;
  runner = (ref3 = opts.runner) != null ? ref3 : me.getActionRunner();
  if (Array.isArray(action)) {
    actions = action;
  } else {
    actions = action.split(/[,\s]+/g);
  }
  actions = uniq(compact(actions));
  if (actions.length === 0) {
    err = new Error(locale.actionEmpty);
    return next(err);
    me;
  }
  if (actions.length &gt; 1) {
    actionTaskOrGroup = runner.createGroup('actions bundle: ' + actions.join(' '));
    for (i = 0, len = actions.length; i &lt; len; i++) {
      action = actions[i];
      actionMethod = me[action].bind(me);
      if (!actionMethod) {
        err = new Error(util.format(locale.actionNonexistant, action));
        return next(err);
        me;
      }
      task = actionTaskOrGroup.createTask(action, actionMethod, {
        args: [opts]
      });
      actionTaskOrGroup.addTask(task);
    }
  } else {
    action = actions[0];
    actionMethod = me[action].bind(me);
    if (!actionMethod) {
      err = new Error(util.format(locale.actionNonexistant, action));
      return next(err);
      me;
    }
    actionTaskOrGroup = runner.createTask(action, actionMethod, {
      args: [opts]
    });
  }
  runnerTask = runner.createTask("runner task for action: " + action, function(continueWithRunner) {
    actionTaskOrGroup.done(function() {
      var args;
      args = 1 &lt;= arguments.length ? slice.call(arguments, 0) : [];
      if (next) {
        next.apply(null, args);
        args[0] = null;
      }
      return continueWithRunner.apply(null, args);
    });
    return actionTaskOrGroup.run();
  });
  runner.addTask(runnerTask);
  if (run === true) {
    runner.run();
  }
  return me;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


## v6.65.0 2014 May 17
- Independent rendering (including layout rendering) now occurs on a clone, allowing independent renderings on the same file to
occur at the same time
	- This fixes an issue where a recursive render on a file will cause a stalemate
- More detailed errors when something goes wrong with rendering a file
- Deprecated `docpad.cloneModel(document)`, you can now use `document.clone()` safely
- Deprecated `apply` option for `document.render`, now use `document.clone().<span class="apidocCodeKeywordSpan">action</span>(&amp;#
x27;render')` instead
- Fixed broken `docpad.addModel` and `docpad.addModels` (broken since their introduction in v6.55.0)
- Updated dependencies


## v6.64.3 2014 May 4
- Added donation plea for [bevry/meta#3](http://github.com/bevry/meta/issues/3)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.getBasename" id="apidoc.element.docpad.util.getBasename">
        function <span class="apidocSignatureSpan">docpad.util.</span>getBasename
        <span class="apidocSignatureSpan">(filename)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getBasename = function (filename) {
  var basename;
  if (filename[0] === '.') {
    basename = filename.replace(/^(\.[^\.]+)\..*$/, '$1');
  } else {
    basename = filename.replace(/\..*$/, '');
  }
  return basename;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (!filename) {
  err = new Error(locale.filenameMissingError);
  return next(err);
}
if (!relativePath &amp;&amp; filename) {
  changes.relativePath = relativePath = filename;
}
changes.basename = basename = docpadUtil.<span class="apidocCodeKeywordSpan">getBasename</span>(filename);
changes.extensions = extensions = this.getExtensions({
  filename: filename
});
changes.extension = extension = docpadUtil.getExtension(extensions);
if (fullPath) {
  changes.fullDirPath = fullDirPath = docpadUtil.getDirPath(fullPath);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.getDefaultLogLevel" id="apidoc.element.docpad.util.getDefaultLogLevel">
        function <span class="apidocSignatureSpan">docpad.util.</span>getDefaultLogLevel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDefaultLogLevel = function () {
  if (docpadUtil.isTravis() || (indexOf.call(process.argv, '-d') &gt;= 0)) {
    return 7;
  } else {
    return 5;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.getDirPath" id="apidoc.element.docpad.util.getDirPath">
        function <span class="apidocSignatureSpan">docpad.util.</span>getDirPath
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDirPath = function (path) {
  return pathUtil.dirname(path) || '';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
changes.basename = basename = docpadUtil.getBasename(filename);
changes.extensions = extensions = this.getExtensions({
  filename: filename
});
changes.extension = extension = docpadUtil.getExtension(extensions);
if (fullPath) {
  changes.fullDirPath = fullDirPath = docpadUtil.<span class="apidocCodeKeywordSpan">getDirPath</span>(fullPath);
}
changes.relativeDirPath = relativeDirPath = docpadUtil.getDirPath(relativePath);
changes.relativeBase = relativeBase = relativeDirPath ? pathUtil.join(relativeDirPath, basename) : basename;
if (!contentType) {
  changes.contentType = contentType = mime.lookup(fullPath || relativePath);
}
if (tags &amp;&amp; typeChecker.isArray(tags) === false) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.getExtension" id="apidoc.element.docpad.util.getExtension">
        function <span class="apidocSignatureSpan">docpad.util.</span>getExtension
        <span class="apidocSignatureSpan">(extensions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getExtension = function (extensions) {
  var extension;
  if (!require('typechecker').isArray(extensions)) {
    extensions = docpadUtil.getExtensions(extensions);
  }
  if (extensions.length !== 0) {
    extension = extensions.slice(-1)[0] || null;
  } else {
    extension = null;
  }
  return extension;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (!relativePath &amp;&amp; filename) {
  changes.relativePath = relativePath = filename;
}
changes.basename = basename = docpadUtil.getBasename(filename);
changes.extensions = extensions = this.getExtensions({
  filename: filename
});
changes.extension = extension = docpadUtil.<span class="apidocCodeKeywordSpan">getExtension</span>(extensions);
if (fullPath) {
  changes.fullDirPath = fullDirPath = docpadUtil.getDirPath(fullPath);
}
changes.relativeDirPath = relativeDirPath = docpadUtil.getDirPath(relativePath);
changes.relativeBase = relativeBase = relativeDirPath ? pathUtil.join(relativeDirPath, basename) : basename;
if (!contentType) {
  changes.contentType = contentType = mime.lookup(fullPath || relativePath);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.getExtensions" id="apidoc.element.docpad.util.getExtensions">
        function <span class="apidocSignatureSpan">docpad.util.</span>getExtensions
        <span class="apidocSignatureSpan">(filename)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getExtensions = function (filename) {
  var extensions;
  extensions = filename.split(/\./g).slice(1);
  return extensions;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @method getExtension
	 * @param {Array} extensions
	 * @return {String} the extension
 */
getExtension: function(extensions) {
  var extension;
  if (!require('typechecker').isArray(extensions)) {
    extensions = docpadUtil.<span class="apidocCodeKeywordSpan">getExtensions</span>(extensions);
  }
  if (extensions.length !== 0) {
    extension = extensions.slice(-1)[0] || null;
  } else {
    extension = null;
  }
  return extension;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.getFilename" id="apidoc.element.docpad.util.getFilename">
        function <span class="apidocSignatureSpan">docpad.util.</span>getFilename
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getFilename = function (path) {
  return pathUtil.basename(path);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */

FileModel.prototype.getExtensions = function(arg) {
  var extensions, filename;
  extensions = arg.extensions, filename = arg.filename;
  extensions || (extensions = this.get('extensions') || null);
  if ((extensions || []).length === 0) {
    filename = this.<span class="apidocCodeKeywordSpan">getFilename</span>({
      filename: filename
    });
    if (filename) {
      extensions = docpadUtil.getExtensions(filename);
    }
  }
  return extensions || null;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.getLocalDocPadExecutable" id="apidoc.element.docpad.util.getLocalDocPadExecutable">
        function <span class="apidocSignatureSpan">docpad.util.</span>getLocalDocPadExecutable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLocalDocPadExecutable = function () {
  return pathUtil.join(process.cwd(), 'node_modules', 'docpad', 'bin', 'docpad');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Is Local DocPad Installation
	 * @private
	 * @method isLocalDocPadExecutable
	 * @return {Boolean}
 */
isLocalDocPadExecutable: function() {
  var ref1;
  return ref1 = docpadUtil.<span class="apidocCodeKeywordSpan">getLocalDocPadExecutable</span>(), indexOf.call(process.argv, ref1
) &gt;= 0;
},

/**
	 * Does the local DocPad Installation Exist?
	 * @private
	 * @method getLocalDocPadExecutableExistance
	 * @return {Boolean}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.getLocalDocPadExecutableExistance" id="apidoc.element.docpad.util.getLocalDocPadExecutableExistance">
        function <span class="apidocSignatureSpan">docpad.util.</span>getLocalDocPadExecutableExistance
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLocalDocPadExecutableExistance = function () {
  return require('safefs').existsSync(docpadUtil.getLocalDocPadExecutable()) === true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
checkDocPad = function() {
if (indexOf.call(process.argv, '--global') &gt;= 0 || indexOf.call(process.argv, '--g') &gt;= 0) {
  return startDocPad();
}
if (docpadUtil.isLocalDocPadExecutable()) {
  return startDocPad();
}
if (docpadUtil.<span class="apidocCodeKeywordSpan">getLocalDocPadExecutableExistance</span>() === false) {
  return startDocPad();
}
return docpadUtil.startLocalDocPadExecutable();
};

startDocPad = function() {
var ConsoleInterface, DocPad, action;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.getOutFilename" id="apidoc.element.docpad.util.getOutFilename">
        function <span class="apidocSignatureSpan">docpad.util.</span>getOutFilename
        <span class="apidocSignatureSpan">(basename, extension)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getOutFilename = function (basename, extension) {
  if (basename === '.' + extension) {
    return basename;
  } else {
    return basename + (extension ? '.' + extension : '');
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (tags &amp;&amp; typeChecker.isArray(tags) === false) {
  changes.tags = tags = String(tags).split(/[\s,]+/);
}
if (!date) {
  changes.date = date = mtime || this.get('date') || new Date();
}
if (!outFilename &amp;&amp; !outPath) {
  changes.outFilename = outFilename = docpadUtil.<span class="apidocCodeKeywordSpan">getOutFilename</span>(basename, outExtension
 || extensions.join('.'));
}
if (!outPath) {
  changes.outPath = outPath = this.rootOutDirPath ? pathUtil.resolve(this.rootOutDirPath, relativeDirPath, outFilename) : null;
}
if (outPath) {
  changes.outFilename = outFilename = docpadUtil.getFilename(outPath);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.getSlug" id="apidoc.element.docpad.util.getSlug">
        function <span class="apidocSignatureSpan">docpad.util.</span>getSlug
        <span class="apidocSignatureSpan">(relativeBase)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getSlug = function (relativeBase) {
  return require('bal-util').generateSlugSync(relativeBase);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
} else {
  this.setUrl(_defaultUrl);
}
if (!outContentType &amp;&amp; contentType) {
  changes.outContentType = outContentType = mime.lookup(outPath || relativeOutPath) || contentType;
}
if (!slug) {
  changes.slug = slug = docpadUtil.<span class="apidocCodeKeywordSpan">getSlug</span>(relativeOutBase);
}
if (typeof wtime === 'string') {
  changes.wtime = wtime = new Date(wtime);
}
if (typeof rtime === 'string') {
  changes.rtime = rtime = new Date(rtime);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.getUrl" id="apidoc.element.docpad.util.getUrl">
        function <span class="apidocSignatureSpan">docpad.util.</span>getUrl
        <span class="apidocSignatureSpan">(relativePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getUrl = function (relativePath) {
  return '/' + relativePath.replace(/[\\]/g, '/');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
changes.outExtension = outExtension = docpadUtil.getExtension(outFilename);
changes.relativeOutPath = relativeOutPath = outPath ? outPath.replace(this.rootOutDirPath, '').replace(/^[\/\\]/, '
;') : pathUtil.join(relativeDirPath, outFilename);
changes.relativeOutDirPath = relativeOutDirPath = docpadUtil.getDirPath(relativeOutPath);
changes.relativeOutBase = relativeOutBase = pathUtil.join(relativeOutDirPath, outBasename);
if (!name) {
  changes.name = name = outFilename;
}
_defaultUrl = docpadUtil.<span class="apidocCodeKeywordSpan">getUrl</span>(relativeOutPath);
if (url) {
  this.setUrl(url);
  this.addUrl(_defaultUrl);
} else {
  this.setUrl(_defaultUrl);
}
if (!outContentType &amp;&amp; contentType) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.inspect" id="apidoc.element.docpad.util.inspect">
        function <span class="apidocSignatureSpan">docpad.util.</span>inspect
        <span class="apidocSignatureSpan">(obj, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">inspect = function (obj, opts) {
  if (opts == null) {
    opts = {};
  }
  if (docpadUtil.isTTY()) {
    if (opts.colors == null) {
      opts.colors = indexOf.call(process.argv, '--no-colors') &lt; 0;
    }
  } else {
    opts.colors = false;
  }
  return util.inspect(obj, opts);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
DocPad.prototype.inspector = function(obj, opts) {
  if (opts == null) {
    opts = {};
  }
  if (opts.colors == null) {
    opts.colors = this.getConfig().color;
  }
  return docpadUtil.<span class="apidocCodeKeywordSpan">inspect</span>(obj, opts);
};


/**
	 * Log arguments
	 * @property {Object} log
	 * @param {Mixed} args...
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.isLocalDocPadExecutable" id="apidoc.element.docpad.util.isLocalDocPadExecutable">
        function <span class="apidocSignatureSpan">docpad.util.</span>isLocalDocPadExecutable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isLocalDocPadExecutable = function () {
  var ref1;
  return ref1 = docpadUtil.getLocalDocPadExecutable(), indexOf.call(process.argv, ref1) &gt;= 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

docpadUtil = require('../lib/util');

checkDocPad = function() {
  if (indexOf.call(process.argv, '--global') &gt;= 0 || indexOf.call(process.argv, '--g') &gt;= 0) {
    return startDocPad();
  }
  if (docpadUtil.<span class="apidocCodeKeywordSpan">isLocalDocPadExecutable</span>()) {
    return startDocPad();
  }
  if (docpadUtil.getLocalDocPadExecutableExistance() === false) {
    return startDocPad();
  }
  return docpadUtil.startLocalDocPadExecutable();
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.isStandalone" id="apidoc.element.docpad.util.isStandalone">
        function <span class="apidocSignatureSpan">docpad.util.</span>isStandalone
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isStandalone = function () {
  return /docpad$/.test(process.argv[1] || '');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
	 * Is user
	 * @private
	 * @method isUser
	 * @return {Boolean}
 */
isUser: function() {
  return docpadUtil.<span class="apidocCodeKeywordSpan">isStandalone</span>() &amp;&amp; docpadUtil.isTTY() &amp;&amp; docpadUtil
.isTravis() === false;
},

/**
	 * Wrapper for the node.js method util.inspect
	 * @method inspect
	 * @param {Object} obj
	 * @param {Object} opts
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.isStandardEncoding" id="apidoc.element.docpad.util.isStandardEncoding">
        function <span class="apidocSignatureSpan">docpad.util.</span>isStandardEncoding
        <span class="apidocSignatureSpan">(encoding)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isStandardEncoding = function (encoding) {
  var ref1;
  return (ref1 = encoding.toLowerCase()) === 'ascii' || ref1 === 'utf8' || ref1 === 'utf-8';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    jschardet = require('jschardet');
  }
  if (encoding == null) {
    encoding = (ref1 = jschardet.detect(buffer)) != null ? ref1.encoding : void 0;
  }
}
encoding || (encoding = 'utf8');
if (docpadUtil.<span class="apidocCodeKeywordSpan">isStandardEncoding</span>(encoding) === false) {
  buffer = this.encode({
    path: relativePath,
    to: 'utf8',
    from: encoding,
    content: buffer
  });
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.isTTY" id="apidoc.element.docpad.util.isTTY">
        function <span class="apidocSignatureSpan">docpad.util.</span>isTTY
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isTTY = function () {
  var ref1, ref2;
  return ((ref1 = process.stdout) != null ? ref1.isTTY : void 0) === true &amp;&amp; ((ref2 = process.stderr) != null ? ref2.isTTY : void
 0) === true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
	 * Is user
	 * @private
	 * @method isUser
	 * @return {Boolean}
 */
isUser: function() {
  return docpadUtil.isStandalone() &amp;&amp; docpadUtil.<span class="apidocCodeKeywordSpan">isTTY</span>() &amp;&amp; docpadUtil
.isTravis() === false;
},

/**
	 * Wrapper for the node.js method util.inspect
	 * @method inspect
	 * @param {Object} obj
	 * @param {Object} opts
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.isTravis" id="apidoc.element.docpad.util.isTravis">
        function <span class="apidocSignatureSpan">docpad.util.</span>isTravis
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isTravis = function () {
  return process.env.TRAVIS_NODE_VERSION != null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
	 * Get Default Log Level
	 * @private
	 * @method getDefaultLogLevel
	 * @return {Number} default log level
 */
getDefaultLogLevel: function() {
  if (docpadUtil.<span class="apidocCodeKeywordSpan">isTravis</span>() || (indexOf.call(process.argv, '-d') &gt;= 0)) {
    return 7;
  } else {
    return 5;
  }
},

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.isUser" id="apidoc.element.docpad.util.isUser">
        function <span class="apidocSignatureSpan">docpad.util.</span>isUser
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isUser = function () {
  return docpadUtil.isStandalone() &amp;&amp; docpadUtil.isTTY() &amp;&amp; docpadUtil.isTravis() === false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

PluginLoader = require('./plugin-loader');

BasePlugin = require('./plugin');

setImmediate = (typeof global !== "undefined" &amp;&amp; global !== null ? global.setImmediate : void 0) || process.
nextTick;

isUser = docpadUtil.<span class="apidocCodeKeywordSpan">isUser</span>();


/**
* Contains methods for managing the DocPad application.
* This includes managing a DocPad projects files and
* documents, watching directories, emitting events and
* managing the node.js/express.js web server.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.startLocalDocPadExecutable" id="apidoc.element.docpad.util.startLocalDocPadExecutable">
        function <span class="apidocSignatureSpan">docpad.util.</span>startLocalDocPadExecutable
        <span class="apidocSignatureSpan">(next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">startLocalDocPadExecutable = function (next) {
  var args, command;
  args = process.argv.slice(2);
  command = ['node', docpadUtil.getLocalDocPadExecutable()].concat(args);
  return require('safeps').spawn(command, {
    stdio: 'inherit'
  }, function(err) {
    var message;
    if (err) {
      if (next) {
        return next(err);
      } else {
        message = 'An error occured within the child DocPad instance: ' + err.message + '\n';
        return docpadUtil.writeStderr(message);
      }
    } else {
      return typeof next === "function" ? next() : void 0;
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
if (docpadUtil.isLocalDocPadExecutable()) {
  return startDocPad();
}
if (docpadUtil.getLocalDocPadExecutableExistance() === false) {
  return startDocPad();
}
return docpadUtil.<span class="apidocCodeKeywordSpan">startLocalDocPadExecutable</span>();
};

startDocPad = function() {
var ConsoleInterface, DocPad, action;
DocPad = require('../lib/docpad');
ConsoleInterface = require('../lib/interfaces/console');
action = process.argv.slice(1).join(' ').indexOf('deploy') !== -1 ? 'load' : false;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.wait" id="apidoc.element.docpad.util.wait">
        function <span class="apidocSignatureSpan">docpad.util.</span>wait
        <span class="apidocSignatureSpan">(time, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">wait = function (time, fn) {
  return setTimeout(fn, time);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */

DocPad.prototype.destroy = function(opts, next) {
  var docpad, ref2;
  ref2 = extractOptsAndCallback(opts, next), opts = ref2[0], next = ref2[1];
  docpad = this;
  docpad.destroyRegenerateTimer();
  docpadUtil.<span class="apidocCodeKeywordSpan">wait</span>(1000, function() {
    return docpad.emitSerial('docpadDestroy', function(err) {
      if (err) {
        return typeof next === "function" ? next(err) : void 0;
      }
      docpad.destroyPlugins();
      docpad.destroyServer();
      docpad.destroyWatchers();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.writeError" id="apidoc.element.docpad.util.writeError">
        function <span class="apidocSignatureSpan">docpad.util.</span>writeError
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeError = function (err) {
  var ref1;
  return docpadUtil.writeStderr(((ref1 = err.stack) != null ? typeof ref1.toString === "function" ? ref1.toString() : void 0 : void
 0) || err.message || err);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  renderSingleExtensions = false;
}
return renderSingleExtensions;
})();

new DocPad(docpadConfig, function(err, docpad) {
if (err) {
  return docpadUtil.<span class="apidocCodeKeywordSpan">writeError</span>(err);
}
return docpad.action(action, function(err) {
  if (err) {
    return docpadUtil.writeError(err);
  }
  return console.log('OK');
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.docpad.util.writeStderr" id="apidoc.element.docpad.util.writeStderr">
        function <span class="apidocSignatureSpan">docpad.util.</span>writeStderr
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeStderr = function (data) {
  var err;
  try {
    return process.stderr.write(data);
  } catch (error) {
    err = error;
    return process.stdout.write(data);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Write an error
	 * @private
	 * @method writeError
	 * @param {Object} err
 */
writeError: function(err) {
  var ref1;
  return docpadUtil.<span class="apidocCodeKeywordSpan">writeStderr</span>(((ref1 = err.stack) != null ? typeof ref1.toString === &amp;#
x22;function" ? ref1.toString() : void 0 : void 0) || err.message || err);
},

/**
	 * Wait. Wrapper for setTimeout
	 * @private
	 * @method wait
	 * @param {Number} time
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>